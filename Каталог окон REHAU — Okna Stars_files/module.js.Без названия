if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(bS,D,bn){var ba=false,P="229",x=13,cn=42,u=bS.roistatHost,aw="0.2",aa="1.0",ct="roistat_visit_cookie_expire",bL="roistat_visit",aK="roistat_first_visit",af="roistat_is_need_listen_requests",cT="roistat_phone",av="roistat_referrer",cw="roistat_marker",aY="roistat_marker_old",bg="roistat_ab",cc="rs",E="roistat",U="leadhunter_expire",K=5*60*60,bo="roistat_leadHunterEnabled",o="roistat_leadHunterTargetPagesMap",b6="roistat_leadHunterCallbackSettings",aI="roistat_leadHunterScriptId",Q="roistat_isleadHunterScriptIdActive",aV="roistat_multiwidgetEnabled",bD="roistat_multiwidgetVKEnabled",ck="roistat_multiwidgetVKLink",L="roistat_multiwidgetFBEnabled",cC="roistat_multiwidgetFBLink",b8="roistat_multiwidgetTelegramEnabled",a9="roistat_multiwidgetTelegramLink",ch="roistat_multiwidgetWhatsAppEnabled",bl="roistat_multiwidgetWhatsAppLink",cZ="roistat_multiwidgetViberEnabled",cb="roistat_multiwidgetViberLink",ci="roistat_onlineChatEnabled",y="roistat_onlineChatSettings",d=7*24*60*60,cp={expires:d,path:"/"},ab="roistat-promo",ah="roistat-phone",C="roistat-phone-country",ac="roistat-phone-region",F="roistat-phone-number",cL="roistat-phone-tel",bu="country",aC="region",a2="number",bG="tel",m="roistat_call_tracking",R="roistat-js-script",be="roistat_phone_replacement",a3="roistat_phone_script_data",cm="roistat-visit-id",aL="roistat_metrika_counter_id",h="roistat_marker_from_referrer",bd="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",br="roistat_emailtracking_emails",k="roistat_geo_data",aE="roistat_promo_code";
ROISTAT_PROXY_FORMS="roistat_proxy_forms",ROISTAT_IS_MULTI_DOMAIN="roistat_isMultiDomain",ADDITIONAL_PAGE_PARAM_LIST=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],ROISTAT_DEBUG_KEY="roistat_debug",ROISTAT_IS_SETTINGS_SAVED_COOKIE="roistat_settings_saved",ROISTAT_NO_VISIT_ID_COOKIE_VALUE="nocookie",IGNORED_HOSTS_FOR_CUSTOM_TAG=["yandex.ru"],COOKIE_BETA_TEST="beta_test",ROISTAT_SETTINGS_VERSION="roistat_settings_version",LEAD_HUNTER_FORM_TEMPLATE="roistat-leadhunter-form-template",LEAD_HUNTER_PULSATOR_TEMPLATE="roistat-leadhunter-pulsator-template",LEAD_HUNTER_PULSATOR_SETTINGS="roistat-leadhunter-pulsator-settings",ONLINE_CHAT_PULSATOR_TEMPLATE="roistat-online-chat-pulsator-template",ONLINE_CHAT_IFRAME_TEMPLATE="roistat-online-chat-iframe-template",MULTIWIDGET_PULSATOR_TEMPLATE="roistat-multiwidget-pulsator-template",MULTIWIDGET_PULSATOR_SETTINGS="roistat-multiwidget-pulsator-settings",SETTINGS_UPDATE_TIME_KEY="roistat_last_settings_update_time",STORAGE_KEY_AUTHORIZED_CLIENT="roistat_authorized_client",STORAGE_KEY_ROISTAT_PARAMS="roistat_params",MOBILE_DEVICE_NAME="mobile",TABLET_DEVICE_NAME="tablet",DESKTOP_DEVICE_NAME="desktop",MOBILE_MARKUP_BREAKPOINT=500,TABLET_MARKUP_BREAKPOINT=1024;var bA="ru",cQ="en",X,p;var cB=u.replace(/^cloud\./,"");var cx="cllctr."+cB;var bC={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bM={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var co={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bS.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bS.roistatAlreadyStarted=true;if(bS.roistatCookieDomain){cp.domain=bS.roistatCookieDomain}bS.roistat={version:P,getSource:function(){return bM.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){bM.visitFromUser=e},registerOnVisitProcessedCallback:function(e){b7(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bb(e)},disableCallTracking:function(){bC.callTrackingEnabled=false},setCallTrackingManualMode:function(){bC.callTrackingManual=true},setJSONPRequestTimeout:function(e){bC.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){s("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null,},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true,},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(e){ar(e,bn)},authClientByEmail:function(e){ar(bn,e)},setRoistatParams:function(c7,c6,c4,c3,c2){var c0=J()+"/update-visit-by-params";if(!bM.isVisitProcessed){bj(c0,"RoistatParam was not updated because visit is not processed, roistatParam:"+encodeURIComponent(c7));s("Visit is not processed, return");return}var c5=n();if(c5<=0){bj(c0,"RoistatParam was not updated because visitId <= 0, roistatParam:"+encodeURIComponent(c7));s("Invalid arguments, return");return}bj(c0,"Start process for visit "+c5+", roistatParam: "+encodeURIComponent(c7));var c9={roistat_param1:c7,roistat_param2:c6,roistat_param3:c4,roistat_param4:c3,roistat_param5:c2};var da=false;var db={};for(var de in c9){if(!Object.prototype.hasOwnProperty.call(c9,de)){continue}var dd=c9[de];if(dd!==bn&&dd.length>0){db[de]=dd;da=true}}if(!da){bj(c0,"Visit "+c5+" was not updated because none of RoistatParams are valid, roistatParam:"+encodeURIComponent(c7));s("Has no valid roistat params for visit update, return");return}var dc=STORAGE_KEY_ROISTAT_PARAMS;var c8=bP.get(dc);var e=JSON.stringify(db);var df=c8===e;if(df){s("Params already updated, return");return}bP.set(dc,e);c0+="?visit="+c5+"&v="+P;for(var c1 in db){if(!Object.prototype.hasOwnProperty.call(db,c1)){continue}c0+="&"+c1+"="+encodeURIComponent(db[c1])}aJ(c0)}};var ar=function(e,c2){if(!bM.isVisitProcessed){s("Visit is not processed, return");return}var c3=e!==bn&&e.length>0,c6=c2!==bn&&c2.length>0;
if(!c3&&!c6){s("Invalid client params, return");return}var c4=n();if(c4<=0){s("Invalid arguments, return");return}var c5=STORAGE_KEY_AUTHORIZED_CLIENT,c7=bP.get(c5),c1=c3?e:c2;if(c7===c1){s('Client "'+c1+'" is already authorized, return');return}s("Auth client: "+c1);bP.set(c5,c1);var c0=J()+"/update-visit-by-client?visit="+c4+"&v="+P;if(c3){c0+="&client_id="+encodeURIComponent(e)}if(c6){c0+="&client_email="+encodeURIComponent(c2)}aJ(c0)};var cF=function(c2,c0){var c1=c2.length;for(var e=0;e<c1;e++){if(c0===c2[e]){return true}}return false};var V=function(){return i(COOKIE_BETA_TEST)>0};var w=function(){return bS.location.protocol+"//"+bS.location.host+bS.location.pathname};var A=function(){if(cV()){return MOBILE_DEVICE_NAME}if(cK()){return TABLET_DEVICE_NAME}return DESKTOP_DEVICE_NAME};var cV=function(){return bS.innerWidth<=MOBILE_MARKUP_BREAKPOINT};var cK=function(){return bS.innerWidth>MOBILE_MARKUP_BREAKPOINT&&bS.innerWidth<=TABLET_MARKUP_BREAKPOINT};var aP=function(){return bS.roistatProjectId};var ca=function(){return aP().replace(/\D/g,"")};var a5=function(e){var c0=ca();return cF(e,c0)};var cg=function(e){return JSON.parse(JSON.stringify(e))};var bh=function(){var c0=cg(cp),e=parseInt(bP.get(ct));c0.expires=e>0?e:d;return c0};var b7=function(e){if(!bM.isVisitProcessed){co.onVisitProcessed.push(e)}else{e()}};var cj=function(){bM.isVisitProcessed=true;s("[Roistat] visit id set. Processing callbacks");var c0=co.onVisitProcessed.length;for(var e=0;e<c0;e++){co.onVisitProcessed[e]()}if(bS.roistatVisitCallback!==bn){bS.roistatVisitCallback(bS.roistat.getVisit())}};var bb=function(e){co.onCallTrackingPhoneReceived.push(e)};var cD=function(){var c0=co.onCallTrackingPhoneReceived.length;for(var e=0;e<c0;e++){co.onCallTrackingPhoneReceived[e]()}};var an=function an(e){co.onSPAPageChanged.push(e)};var bJ=function bJ(){s("[Roistat] SPA page changed. Processing callbacks");var c0=co.onSPAPageChanged.length;for(var e=0;e<c0;e++){co.onSPAPageChanged[e]()}};var ad=function(c3,c2){var c1=c3.className.split(" "),c0=false,e;for(e=0;e<c1.length;e++){if(c1[e]===c2){c0=true;break}}if(!c0){c1.push(c2);c3.className=c1.join(" ")}};var bK=function(c2,c1){var c0=c2.className.split(" "),e;for(e=0;e<c0.length;e++){if(c0[e]===c1){c0.splice(e,1);c2.className=c0.join(" ");break}}};var at=function(c1){try{return decodeURIComponent(c1)}catch(c2){var c0;c0=v(c1);if(c0===null){return c1}return c0}};var bz={visitor_uid:function(){s("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cY(bS.AMOPIXEL_IDENTIFIER)||!O(bS.AMOPIXEL_IDENTIFIER.getVisitorUid)){s("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aM(e)){s("AmoCrmUID: visitor_uid value must be a string");return null}return e}};var aq=function(){for(var c0 in bz){var e=bz[c0]();if(e===null){continue}cM(c0,e,cp)}};var aZ=function(){return["_ym_uid","_ga"].concat(G(bz))};var v=function(c4){var c3={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var c1="";var c2=0;while(c2<c4.length){var c0=c4.substring(c2,c2+3);if(Object.prototype.hasOwnProperty.call(c3,c0)){c1+=c3[c0];c2+=3}else{c1+=c4.substring(c2,c2+1);c2++}}try{return decodeURIComponent(c1)}catch(c5){return null}};bS.roistatVersion=P;var bf,b1=a5(["9418029803765486301","053353545780959565"]),Z=a5(["22296927710284928081","27072437079523370821","4897604717310987939","053353545780959565"]),j,bZ=true,b5=D.location.href,a0="",aH="",a7=new Date().getTime(),cv=false,cd=bS.roistatPhonePrefix?bS.roistatPhonePrefix:"",cU=bS.roistatPhonePrefixBind?bS.roistatPhonePrefixBind:"",M=bS.roistatCalltrackingScripts&&bS.roistatCalltrackingScripts.join?bS.roistatCalltrackingScripts.join(","):"";var i,cM;i=bS.roistatGetCookie=function(e){var c0=D.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return c0?at(c0[1]):bn};cM=bS.roistatSetCookie=function(c2,c4,c1){c1=c1||{};var c0=c1.expires;if(typeof c0=="number"&&c0){var c6=new Date();c6.setTime(c6.getTime()+c0*1000);c0=c1.expires=c6
}if(c0&&c0.toUTCString){c1.expires=c0.toUTCString()}c4=encodeURIComponent(c4);var e=c2+"="+c4;for(var c3 in c1){e+="; "+c3;var c5=c1[c3];if(c5!==true){e+="="+c5}}D.cookie=e};var bm=function(c0,c2,c1){var e=c0[c2];c0[c2]=function(){if(e){e.apply(this,arguments)}c1.apply(this,arguments)}};var Y=function(c1,c0,c2){if(c1.addEventListener){c1.addEventListener(c0,c2,false);return}var e="on"+c0;if(c1.attachEvent){c1.attachEvent(e,c2);return}if(e in c1){bm(c1,e,c2);return}if(c0 in c1){bm(c1,c0,c2);return}s("Handler could not be attached")};var q=function(c2,c1){var c0=c2.length;for(var e=0;e<c0;e++){c1(c2[e])}};var G=function(e){var c0=[];a6(e,function(c1,c2){c0.push(c1)});return c0};var a6=function(e,c1){for(var c0 in e){if(Object.prototype.hasOwnProperty.call(e,c0)){c1(c0,e[c0])}}};var bc=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aD=function(c0){if(typeof c0!=="object"){return false}for(var e in c0){if(c0.hasOwnProperty(e)){return true}}return false};var cH=function(c1){try{var c0=JSON.parse(c1);if(c0&&typeof c0==="object"){return c0}}catch(c2){}return null};if(D.getElementsByClassName==bn){D.getElementsByClassName=function(c0){var e=[];var c4=new RegExp("\\b"+c0+"\\b");var c3=this.getElementsByTagName("*");for(var c2=0;c2<c3.length;c2++){var c1=c3[c2].className;if(c4.test(c1)){e.push(c3[c2])}}return e}}var au=function(){return String.fromCharCode};var cl=function(c1){var e="";for(var c0=0;c0<c1.length;++c0){e+=au()(cn^c1.charCodeAt(c0))}return e};var aA=function(e){return encodeURIComponent(cl(bW.encode(e)))};var bW={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c1){var e="";var c8,c6,c4,c7,c5,c3,c2;var c0=0;c1=bW._utf8_encode(c1);while(c0<c1.length){c8=c1.charCodeAt(c0++);c6=c1.charCodeAt(c0++);c4=c1.charCodeAt(c0++);c7=c8>>2;c5=((c8&3)<<4)|(c6>>4);c3=((c6&15)<<2)|(c4>>6);c2=c4&63;if(isNaN(c6)){c3=c2=64}else{if(isNaN(c4)){c2=64}}e=e+this._keyStr.charAt(c7)+this._keyStr.charAt(c5)+this._keyStr.charAt(c3)+this._keyStr.charAt(c2)}return e},decode:function(c1){var e="";var c8,c6,c4;var c7,c5,c3,c2;var c0=0;c1=c1.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c0<c1.length){c7=this._keyStr.indexOf(c1.charAt(c0++));c5=this._keyStr.indexOf(c1.charAt(c0++));c3=this._keyStr.indexOf(c1.charAt(c0++));c2=this._keyStr.indexOf(c1.charAt(c0++));c8=(c7<<2)|(c5>>4);c6=((c5&15)<<4)|(c3>>2);c4=((c3&3)<<6)|c2;e=e+String.fromCharCode(c8);if(c3!=64){e=e+String.fromCharCode(c6)}if(c2!=64){e=e+String.fromCharCode(c4)}}e=bW._utf8_decode(e);return e},_utf8_encode:function(c0){c0=c0.replace(/\r\n/g,"\n");var e="";for(var c2=0;c2<c0.length;c2++){var c1=c0.charCodeAt(c2);if(c1<128){e+=String.fromCharCode(c1)}else{if((c1>127)&&(c1<2048)){e+=String.fromCharCode((c1>>6)|192);e+=String.fromCharCode((c1&63)|128)}else{e+=String.fromCharCode((c1>>12)|224);e+=String.fromCharCode(((c1>>6)&63)|128);e+=String.fromCharCode((c1&63)|128)}}}return e},_utf8_decode:function(e){var c1="";var c5=0;var c6=0;var c4=0;var c0=0;while(c5<e.length){c6=e.charCodeAt(c5);if(c6<128){c1+=String.fromCharCode(c6);c5++}else{if((c6>191)&&(c6<224)){c4=e.charCodeAt(c5+1);c1+=String.fromCharCode(((c6&31)<<6)|(c4&63));c5+=2}else{c4=e.charCodeAt(c5+1);c0=e.charCodeAt(c5+2);c1+=String.fromCharCode(((c6&15)<<12)|((c4&63)<<6)|(c0&63));c5+=3}}}return c1}};var bi=function(){return D[au()(99,111,111,107,105,101)]};var aj=function(){cP();var e={c:cA()};return aA(JSON.stringify(e))};var b9=function(){var e=n();return(e===bn||e===null)?ROISTAT_NO_VISIT_ID_COOKIE_VALUE:e};var cA=function(){var e=[];for(var c0 in bM.cookies){if(!Object.prototype.hasOwnProperty.call(bM.cookies,c0)){continue}e.push(c0+"="+bM.cookies[c0])}return e.join("; ")};var cP=function(){var e=l();for(var c0 in e){if(!Object.prototype.hasOwnProperty.call(e,c0)){continue}bM.cookies[c0]=e[c0]}};var ai=function(e){cM(cw,e,bh());bM.source.marker=e};var ae=function(){return i(cw)};var f=function(){a6(bS.roistat.page.params,function(c0,e){bM.pageParams[c0]=e})};var l=function(){var c2=bi();var c3=c2.split("; ");var e={};for(var c1=0;c1<c3.length;c1++){var c6=c3[c1];if(c6===""){continue}var c0=c6.split("=");if(c0.length<2){continue}var c5=c0[0].trim();var c4=c0[1].trim();e[c5]=c4}return e};var g=function(){return au()(104,97,115,104)};var aB=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bI={isAvailable:function(){var c0=false;if(!bS.sessionStorage||!bS.sessionStorage.setItem||!bS.sessionStorage.getItem||!bS.sessionStorage.removeItem){return c0}try{bS.sessionStorage.setItem("testKey","testValue");c0=bS.sessionStorage.getItem("testKey")==="testValue";bS.sessionStorage.removeItem("testKey")}catch(c1){return false}return c0},remove:function(e){if(this.isAvailable()){bS.sessionStorage.removeItem(e)}},setObject:function(e,c0){if(this.isAvailable()){bS.sessionStorage.setItem(e,JSON.stringify(c0))}},getObject:function(c0){var e=null;if(this.isAvailable()){e=bS.sessionStorage.getItem(c0);
e=JSON.parse(e)}return e},set:function(e,c0){if(this.isAvailable()){bS.sessionStorage.setItem(e,c0)}},get:function(c0){var e=null;if(this.isAvailable()){e=bS.sessionStorage.getItem(c0)}return e}};var bP={isAvailable:function(){var c0=false;if(!bS.localStorage||!bS.localStorage.setItem||!bS.localStorage.getItem||!bS.localStorage.removeItem){return c0}try{bS.localStorage.setItem("testKey","testValue");c0=bS.localStorage.getItem("testKey")==="testValue";bS.localStorage.removeItem("testKey")}catch(c1){return false}return c0},remove:function(c0){if(this.isAvailable()){bS.localStorage.removeItem(c0)}else{var e=new Date(1970,1,1);cM(c0,"",{expires:e.toUTCString()})}},setObject:function(e,c0){if(this.isAvailable()){localStorage.setItem(e,JSON.stringify(c0))}},getObject:function(c0){var e=null;if(this.isAvailable()){e=localStorage.getItem(c0);e=cH(e)}return e},set:function(e,c0){if(this.isAvailable()){localStorage.setItem(e,c0)}else{cM(e,c0,cp)}},save:function(c0,c1,e){if(this.isAvailable()){localStorage.setItem(c0,c1)}cM(c0,c1,e)},get:function(c0){var e=null;if(this.isAvailable()){e=localStorage.getItem(c0)}if(e===null){e=i(c0)}return e}};var bF=function(){return !bE(D.referrer)?D.referrer:null};var O=function(e){return typeof e==="function"};var cY=function(e){return typeof e==="object"};var aM=function(e){return typeof e==="string"};var S=function(c2,c1){c1=typeof c1!=="undefined"?c1:false;var c3=function(c6){var c5=null;var c7=new RegExp("[#&?]("+c2+"=[^#&?]+)");if(c7.test(c6)){c5=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var c4=at(c5);return c5&&c4?c4:c5};var e=c3(b5);if(c1){var c0=D.referrer;if(e===null&&c0){e=c3(c0)}}return e};var cz=function(c0,c1){var e=false;if(c0&&c1){e=c0.split(c1).join("")!==c0}return e};if(S(ROISTAT_DEBUG_KEY)==="1"||l()[ROISTAT_DEBUG_KEY]==="1"){ba=true}var cf=function(){var e="multiwidget_only";return S(e)==="1"||l()[e]==="1"};var ay=function(){return cf()?bS.roistatMultiWidgetOnly:bS.roistatOnlineChatOnly};var cO=function(){var c0=aP()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||aP()==="4";var e=bS.location.host==="cloud.roistat.com"&&bS.location.pathname!=="/user/login"&&bS.location.pathname!=="/user/register";var c2=aP()==="349ac99f64416756d4a18e91c71dc95f";var c1=bS.location.host==="datyson.ru"&&bS.location.pathname==="/cloud.html";if((c0&&!e)||(c2&&!c1)){s("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var aU=function(){if("https:"===D.location.protocol){return"https:"}else{return"http:"}};var N=function(c0){var e=D.createElement("img");e.src=c0;s("sendRequestByUrl: "+c0)};var aJ=function(c0){s("sendApiRequestJSONP: init with url "+c0);var e=D.createElement("script");e.onload=e.onreadystatechange=function(){var c2=this.readyState?this.readyState:"unknown";s("sendApiRequestJSONP: script state changed to "+c2)};e.src=c0;e.type="text/javascript";e.async=true;var c1=D.getElementsByTagName("script")[0];c1.parentNode.insertBefore(e,c1);s("sendApiRequestJSONP: script appended")};var b3=function(){var c0=D.createElement("link"),e=D.getElementsByTagName("head");c0.setAttribute("rel","stylesheet");c0.setAttribute("href",aU()+"//"+u+"/dist/module.css?"+P);if(e.length>0){e[0].appendChild(c0)}};var bV=function(){return bY()||cW()};var bY=function(){return a1()!==null};var cW=function(){return bR()!==null};var cu=function(){var e=cr();if(e!==null){cM(bL,e,bh())}};var cr=function(){return a1()||bR()||null};var a1=function(){return S("roistat_visit")};var bR=function(){return bM.visitFromUser};var a=function(c0,e){if(!e&&(bM.isSettingsUpdating||!D.hasFocus())){s("Already updating settings or document not in focus, return");return}var c1=J()+"/get-settings?v="+P+"&visit="+c0;s("Request new settings");bM.isSettingsUpdating=true;aJ(c1)};var aF=function(){return bP.get(ROISTAT_IS_SETTINGS_SAVED_COOKIE)>0};var cI=function(){bP.set(ROISTAT_IS_SETTINGS_SAVED_COOKIE,1)};var ap=function(){bP.remove(LEAD_HUNTER_FORM_TEMPLATE);bP.remove(LEAD_HUNTER_PULSATOR_TEMPLATE);bP.remove(LEAD_HUNTER_PULSATOR_SETTINGS);bP.remove(ONLINE_CHAT_PULSATOR_TEMPLATE);bP.remove(ONLINE_CHAT_IFRAME_TEMPLATE);bP.remove(ci);bP.remove(MULTIWIDGET_PULSATOR_TEMPLATE);bP.remove(MULTIWIDGET_PULSATOR_SETTINGS)};var bN=function(){var c3=function(){return bP.get(ROISTAT_SETTINGS_VERSION)};var c2=function(){bP.set(ROISTAT_SETTINGS_VERSION,x)};var c0=function(){return typeof c3()==="string"};var e=function(){var c4=Number(c3())>x;s("Settings Version: settings version change status - "+c4);return c4};var c1=function(){var c4=1000*60*60*24;var c7=cE();var c6=bU()-c7;var c5=c6>c4;s("Settings Version:: expiration day check: lastUpdateTime="+c7+", _lastUpdateTimeDiff="+c6+", _oneDayDiffInMs="+c4+", result="+(c5?1:0));return c5};if(!c0()){s("Settings Version: set settings version up to 1");c2()}if(c1()||e()){s("Settings Version: clear settings");ap()}};var cR=function(){s("Call: Init");s("Counter version: "+P);if(S("roistat_ab_demo")==="1"){s("Roistat initialisation rejected: ab test preview mode");
return}b3();a4();ce();if((!ag()||cX())&&!ay()){cv=true;bp()}else{bN();cu();var e=n();bv();aS();cs();roistat.visit=e;bM.source.marker=ae();bS.roistat.geo=bP.getObject(k);var c0=aF();if(!c0){a(e)}else{cj()}}};var H=function(c1){if(!c1.isEnabled){return true}var e=new Date();var c8=new Date().toISOString();var c5=e.getUTCDay()===0?7:e.getDay();var c6=c5===6||c5===7;var c4=new Date(c1.weekdaysTime.from).toISOString();var c0=new Date(c1.weekdaysTime.to).toISOString();var c9=new Date(c1.weekendsTime.from).toISOString();var c2=new Date(c1.weekendsTime.to).toISOString();var c7=false;for(var c3=0;c3<c1.days.length;c3++){if(c5===c1.days[c3]){c7=true}}if(!c7){return false}if(c6){return c8>=c9&&c8<=c2}return c8>=c4&&c8<=c0};var a4=function(){s("Call: initMarker");bf=bX();s("Call: inited marker: "+bf)};var ce=function(){s("Call: initReferrer");j=bF();s("Call: end initReferrer: "+j)};var bE=function(c1){if(!c1){return true}var e=aT(c1);var c0=aT(D.domain);if(e===c0){return true}var c2=bB();if(c2===null){return false}if(cz(e,c2)&&cz(c0,c2)){return true}return false};var bB=function(){if(typeof cp.domain==="string"&&cp.domain!==""){return aT(cp.domain)}return null};var aT=function(e){var c0=e.split("http://").join("").split("https://").join("").split("www.").join("");return c0.split("/")[0]};var bX=function(){var c4=i(h)>0;var c6=null;var c1=function(c9){return c9.split("_").join(":u:")};var c8=function(da){var c9=false;q(IGNORED_HOSTS_FOR_CUSTOM_TAG,function(db){if(da.indexOf(db)>-1){c9=true}});return c9};var c7=function(){var c9=false;var da;da=S(E,c4);if(da!==null){c6=da;c9=true}da=S(cc,c4);if(da!==null){c6=da;c9=true}return c9};var c2=function(){var c9=false;var da=ae();if(da){c6=da;c9=true;bZ=false}return c9};var c0=function(){var c9=false;var db=S("utm_source",c4);if(db!==null){c9=true;c6=":utm:"+c1(db);var dd=["utm_medium","utm_campaign","utm_content","utm_term"];var da;for(var dc=0;dc<dd.length;dc++){da=S(dd[dc],c4);if(da!==null){c6=c6+"_"+c1(da)}}}return c9};var c3=function(){var db,da,c9=false;da=S("_openstat",c4);if(!da){return false}if(c5(da)){db=da}else{db=encodeURI(bW.decode(da));if(!c5(db)){db=da}}if(db){db=c1(db).split(";").join("_");c6=":openstat:"+db;c9=true}return c9};var c5=function(c9){return c9.match(/^([^;]*(;[^;]*){3})$/)!==null};var e=function(){var c9=false;var da=D.referrer;if(bE(da)){return c9}var db=S("from",c4);if(db!==null&&!cz(db,"http")){if(!c8(db)){c9=true;c6=c1(db)}}return c9};if(c7()){s("Init marker: init from RS param "+c6);return c6}if(c0()){s("Init marker: init from UTM "+c6);return c6}if(c3()){s("Init marker: init from OpenStat "+c6);return c6}if(e()){s("Init marker: init from custom tag "+c6);return c6}s("Init marker: try init from cookie "+c6);c2();return c6};var n=function(){return bP.get(bL)};var T=function(){s("Call: saveReferrer");bP.set(av,j)};var bH=function(){s("Call: removeReferrer");bP.remove(av)};var cG=function(){cM(aY,at(bf),bh())};var cs=function(){s("Call: refreshPromoCode");if(ay()){s("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return i(bL)};am(e());if(!bS.onload){bS.onload=function(){am(e())}}setTimeout(function(){am(e())},50);setTimeout(function(){am(e())},200);setTimeout(function(){am(e())},2000);setTimeout(function(){am(e())},10000)};bS.roistatPromoCodeRefresh=cs;var cJ=function(){var e=[];var c0=D.getElementsByClassName(ab);if(c0&&c0.length){e=c0}return e};var am=function(e){var c2=cJ();s("setPromoCode: "+e+" in "+c2.length+" elements");for(var c1=0;c1<c2.length;c1++){var c0=c2[c1];c0.innerHTML=e?e:""}};var bs=function(){var c1=bX(),c0=i(aY),c3=c1!==null,c2=true;var c5=at(at(c1)).toLowerCase().split("+").join(" "),c4=at(at(c0)).toLowerCase().split("+").join(" ");if(c1&&c0){c2=c5!==c4}var e=c3&&c2;aH="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+c1+":"+c5+" and old "+c0+":"+c4;s(aH);return e};var az=function(){var c0=function(c8){return/[\u0400-\u04FF]/.test(c8)};var c7=false,c4=j,e=bP.get(av),c6=bS.location.host;if(!c4||!c6){s("Call: needOverrideByReferrer (result "+(c7?"true":"false")+"), skip because one of params is empty");return c7}c6=aT(c6);c4=at(c4);e=at(e);var c2=aT(c4);if(cz(c4,"xn--")&&c0(c6)){s("Call: needOverrideByReferrer (result "+(c7?"true":"false")+"), skip because of bugs with punycode in FF");return c7}if(!c2){s("Call: needOverrideByReferrer (result "+(c7?"true":"false")+"), skip because current referrer is null");return c7}if(!e){c7=!cz(c2,c6);s("Call: needOverrideByReferrer (result "+(c7?"true":"false")+"), compare current referrer and host");return c7}if(cz(c4,e)){s("Call: needOverrideByReferrer (result "+(c7?"true":"false")+"), skip because the same referrer");return c7}var c5=c6.split(".").length>2&&c2.split(".").length>2;var c3=bS.roistatCookieDomain!==bn&&bS.roistatCookieDomain!==c6;var c1=c2.split(".").slice(1).join(".")===c6.split(".").slice(1).join(".");if(c5&&c3&&c1){s("Call: needOverrideByReferrer (result "+(c7?"true":"false")+"), skip because sub domains of same domain");
return c7}c7=!(cz(c2,c6)||(cz(c6,c2)));s("Call: needOverrideByReferrer (result "+(c7?"true":"false")+") referrerHost: "+c2+", currentHost: "+c6);return c7};var bw=function(){return S("utm_nooverride")==="1"};var cX=function(){return !bV()&&!bw()&&(bs()||az())};var bx=function(c0,e){return(c0&&e&&c0!=e)};var aW=function(c1){var e=["cookieExpire"];var c3=c1.leadHunterEnabled;if(Number(bP.get(bo))!==Number(c1.leadHunterEnabled)){bP.set(bo,Number(c1.leadHunterEnabled))}if(c3){var c2={expires:K,path:"/"};if(cp.domain){c2.domain=cp.domain}cM(U,1,c2)}for(var c0 in c1){if(!Object.prototype.hasOwnProperty.call(c1,c0)){continue}if(!c3&&c0.indexOf("leadHunter")>=0&&c0.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!al(e,c0)){bP.set("roistat_"+c0,c1[c0])}}};var cq=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(bP.get(aV))!==Number(e.is_enabled)){bP.set(aV,Number(e.is_enabled))}if(Number(bP.get(bD))!==Number(e.vk.is_enabled)){bP.set(bD,Number(e.vk.is_enabled))}if(bP.get(ck)!==roistat.multiwidget.vk.link){bP.set(ck,roistat.multiwidget.vk.link)}if(Number(bP.get(L))!==Number(e.fb.is_enabled)){bP.set(L,Number(e.fb.is_enabled))}if(bP.get(cC)!==roistat.multiwidget.fb.link){bP.set(cC,roistat.multiwidget.fb.link)}if(Number(bP.get(b8))!==e.telegram.is_enabled){bP.set(b8,Number(e.telegram.is_enabled))}if(bP.get(a9)!==roistat.multiwidget.telegram.link){bP.set(a9,roistat.multiwidget.telegram.link)}if(Number(bP.get(ch))!==e.whats_app.is_enabled){bP.set(ch,Number(e.whats_app.is_enabled))}if(bP.get(bl)!==roistat.multiwidget.whatsApp.link){bP.set(bl,roistat.multiwidget.whatsApp.link)}if(Number(bP.get(cZ))!==e.viber.is_enabled){bP.set(cZ,Number(e.viber.is_enabled))}if(bP.get(cb)!==roistat.multiwidget.viber.link){bP.set(cb,roistat.multiwidget.viber.link)}};var bT=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(bP.get(ci))!==Number(e.is_enabled)){bP.set(ci,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;bP.setObject(y,e.advanced_settings)};var t=function(e){bS.roistat.geo=e;bP.setObject(k,e)};var b4=function(e){s("PromoCode: save settings");bP.setObject(aE,e)};var cS=function(c3,c5,c2,c0,c4,e,c6,c1){aW(c3);roistat.callTracking.enabled=c5.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=c2.email;roistat.emailtracking.trackingEmail=c2.trackingEmail;roistat.emailtracking.emails=c2.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=c4;cq(e);bT(c6);t(c0);b4(c1)};bS.roistatModuleSetVisitCookie=function(c4,dc,c2,c0,db,c7,e,de,c6,dd){s("Call: roistatModuleSetVisitCookie("+c4+")");var c8;if(typeof c2.cookieExpire!=="number"){c8=bh().expires}else{c8=c2.cookieExpire}var c5=i(bL);var da={expires:c8,path:"/"};if(cp.domain){da.domain=cp.domain}cM(bL,c4,da);if(!(i(bL)>0)){bP.save(bL,c4,da)}if(!bP.get(aK)){var c1={expires:10*365*24*60*60,path:"/"};if(cp.domain){c1.domain=cp.domain}bP.save(aK,c4,c1)}var c9=c2.abTests;if((typeof c9!=="undefined")&&bP.isAvailable()){bP.setObject("abTesting",c9)}applyTests();var c3=c2.isNeedToListenRequests;if((typeof c3!=="undefined")&&bP.isAvailable()){bP.set(af,c3)}am(c4);if(dc){ai(dc);cM(aY,dc,da)}if(bS.roistatCallback!==bn){bS.roistatCallback(c4,dc)}if(!de){de={}}cS(c2,c0,db,c7,e,de.multiwidget_settings,c6,dd);roistat.callTracking.phone=c0.phone;roistat.callTracking.sessionTime=c0.sessionTime;roistat.callTracking.replacementClasses=c0.replacementClasses;roistat.callTracking.phoneScriptsJson=c0.scripts;roistat.visit=c4;s("Call: pre renderPromoCode");aS();cs();if(bx(c5,c4)){s("roistatModuleSetVisitCookie: visit changed from "+c5+" to "+c4)}cD();cI();cj()};bS.roistatUpdateSettings=function(e){s("Set settings.");bM.isSettingsUpdating=false;cS(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);cI();cj()};var ag=function(){var e;if(bS.roistatIsInitVisit===true){e=false}else{e=i(bL)>0}s("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var aO=function(){return j?c(j):""};var J=function(){return aU()+"//"+u+"/api/site/"+aa+"/"+aP()};var b0=function(){var e={expires:1,path:"/"};if(cp.domain){e.domain=cp.domain}cM(bg,"",e)};var bp=function(){s("Call: setVisitIdCookie");var c0=function(){var c8=aP(),c5=aO(),c2=bS.roistatIsInitVisit===true?n():0,c7=i(bg),c3=bP.get(aK);
c7=c7?c7:"";c3=c3?c3:"";bf=bf&&(!az()||bZ)?at(at(bf)):"";var c6=encodeURIComponent(b5);s("Calltracking: enabled="+bC.callTrackingEnabled+",manual="+bC.callTrackingManual);var c4=JSON.stringify(bS.roistat.page.params);return J()+"/addVisit?v="+P+"&marker="+encodeURIComponent(bf)+"&visit="+c2+"&first_visit="+c3+"&phone_prefix="+cd+"&phone_prefix_bind="+cU+"&phone_scripts_bind="+M+"&referrer="+c5+"&page="+c6+"&ab="+c(c7)+"&"+g()+"="+aj()+(c4==="{}"?"":"&page_params="+encodeURIComponent(c4))+((!bC.callTrackingEnabled||bC.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(c2){setTimeout(function(){s("Call: setVisitIdCookie script creation after timeout");var c3=D.createElement("script");c3.onload=c3.onreadystatechange=function(){var c5=this.readyState?this.readyState:"unknown";s("Call: setVisitIdCookie script state changed to "+c5)};c3.src=c2;c3.type="text/javascript";c3.async=true;c3.id=R;var c4=D.getElementsByTagName("script")[0];c4.parentNode.insertBefore(c3,c4);s("Call: setVisitIdCookie appended "+((D.getElementById(R))?"true":"false"));s("Call: sendJSONPRequest to URL "+c2);b0()},bC.jsonpRequestTimeout)};if(bf){ai(bf);cG()}aq();var c1=c0();e(c1);j?T():bH()};var bv=function(){s("Call: sendAbTests");var c0=function(){var c4=aP(),c3=i(bL);return aU()+"//"+u+"/site-api/"+aw+"/"+c4+"/visit/"+c3+"/addAbVariant"};var c1=i(bg);if(!c1){return}var c2=c0();c2=c2+"?ab="+c(c1);var e=D.createElement("img");e.src=c2;b0()};var aG={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(aG.Android()||aG.BlackBerry()||aG.iOS()||aG.Opera()||aG.Windows())}};var aN={isIE:function(c1,c3){var c4="IE",c0=D.createElement("B"),e=D.documentElement,c2;if(c1){c4+=" "+c1;if(c3){c4=c3+" "+c4}}c0.innerHTML="<!--[if "+c4+']><b id="iecctest"></b><![endif]-->';e.appendChild(c0);c2=!!D.getElementById("iecctest");e.removeChild(c0);return c2}};var bU=function(){return new Date().getTime()};var cE=function(){return bP.get(SETTINGS_UPDATE_TIME_KEY)};var W=function(){var e="";bS.onerror=function(c5,c4,c1,c3,c2){var c0=!c3?"":", column: "+c3;c0+=!c2?"":", error: "+c2;e=e+", Error: "+c5+", url: "+c4+", line: "+c1+c0};setTimeout(function(){var c7=false,c8="";var c3=cJ();for(var c6=0;c6<c3.length;c6++){var c2=c3[c6];if(c2!==null&&!c2.innerHTML){c7=true;c8="Promo HTML: "+c2.innerHTML}}if(!(i(bL)>0)){c7=true;c8=c8+"; roistat_visit = "+i(bL)}if(c7){var c1=D.getElementById(R);var c0=c1?1:0;var c4=bS.navigator.userAgent;c8=encodeURIComponent(c8);var c5=D.createElement("img");c5.src=aU()+"//"+u+"/site-api/"+aw+"/"+aP()+"/debug?message="+c8+"&agent="+c4+"&"+g()+"="+aj()+"&jserror="+e+"&scriptResponse="+c0+"&version="+P+"&debug="+a0}},20000)};var bk=function(){var c1=D.getElementsByTagName("body");var c2=D.documentElement;var c0=0,c3=0;if(c1.length){var e=c1[0];c0=bS.innerWidth||c2.clientWidth||e.clientWidth;c3=bS.innerHeight||c2.clientHeight||e.clientHeight}else{c0=bS.innerWidth||c2.clientWidth;c3=bS.innerHeight||c2.clientHeight}return{width:c0,height:c3}};var aS=function(){var c5=D.getElementsByClassName("roistat-promo-wrap");if(c5.length){s("PromoCode: old promo code length - exit");return}if(ay()){s("PromoCode: Shut down because only online chat need to be inited");return}var c4=bP.getObject(aE);if(c4&&c4.hasOwnProperty("is_enabled")){bS.roistat.promoCode.isEnabled=c4.is_enabled;s("PromoCode: set is_enabled from storage")}var c2=function(){var dc=D.createElement("div");dc.innerHTML=roistatPromoCode;var da=D.getElementsByTagName("body");if(da.length){da[0].appendChild(dc)}s("PromoCode: appended to body "+roistatPromoCode.length);var db=D.getElementsByClassName("roistat-promo-wrap")[0];if(!db){s("PromoCode: roistat-promo-wrap not found, skip");return}var c9=db.style;var c7,c8,c6;setInterval(function(){c7=bk();c8=db.offsetWidth;c6=db.offsetHeight*2;switch(roistatPosition){case"top_left":c9.left=0;c9.top=0;break;case"top":c9.left=((c7.width-c8)/2)+"px";c9.top=0;break;case"top_right":c9.right=0;c9.top=0;break;case"left":c9.left=0;c9.top=((c7.height-c6)/2)+"px";break;case"right":c9.right=0;c9.top=((c7.height-c6)/2)+"px";break;case"bottom_left":c9.left=0;c9.bottom=0;break;case"bottom":c9.left=((c7.width-c8)/2)+"px";c9.bottom=0;break;case"bottom_right":c9.right=0;c9.bottom=0;break;default:c9.left=0;c9.top=0}},500)};var e=bP.getObject("promo_code_options");if(e){s("PromoCode: options already set");bS.roistatPromoCode=e.template;bS.roistatPosition=e.position;c2()}else{if(!bS.roistat.promoCode.isEnabled){s("PromoCode: is not available, skip");return}var c3=D.getElementsByTagName("head")[0]||D.documentElement;var c1=D.createElement("script");c1.src=aU()+"//"+u+"/site-api/"+aw+"/"+aP()+"/getPromoCode";c3.insertBefore(c1,c3.firstChild);s("PromoCode: loading started");
var c0=false;c1.onload=c1.onreadystatechange=function(){if(!c0&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){c0=true;c1.onload=c1.onreadystatechange=null;if(c3&&c1.parentNode){c3.removeChild(c1)}}if(!c0){return}s("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){s("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};bP.setObject("promo_code_options",e);c2()}}};var al=function(c0,c1){for(var e=0;e<c0.length;e++){if(c0[e]===c1){return true}}return false};var s=function(c0){var c1=bU()-a7;var e="["+(c1/1000)+"s] "+c0;a0=a0+"; "+e;if(typeof console!=="undefined"&&console.log&&ba){console.log(e)}};var bj=function(e,c0){if(!b1){return}aJ(e+(c0!==""?"?log="+encodeURIComponent(c0):""))};var B=function(c0){if(!Z||c0===""){return}var e=J()+"/log";aJ(e+"?log="+encodeURIComponent(c0))};var ax=function ax(){var c3=bS.onpopstate;var c4=bS.history.pushState;var e=bS.history.replaceState;Y(bS,"popstate",function c2(c5){s("[Roistat]: popstate event catch");bJ();if(V()&&typeof c3==="function"){c3(c5)}});Y(bS.history,"pushState",function c1(c6,c7,c5){s("[Roistat]: pushState event catch");bJ();if(V()&&typeof c4==="function"){c4.apply(this,[c6,c7,c5])}});Y(bS.history,"replaceState",function c0(c6,c7,c5){s("[Roistat]: replaceState event catch");bJ();if(V()&&typeof e==="function"){e.apply(this,[c6,c7,c5])}})};(function bt(){ax();if(bS.onRoistatModuleLoaded!==bn&&typeof bS.onRoistatModuleLoaded==="function"){bS.onRoistatModuleLoaded()}})();var bq=function(c0){var c5=function(dc,da){var c9;if(cz(da,"*")){var db=new RegExp(da.split("*").join(".*"));c9=db.test(dc)}else{c9=dc===da}s("LeadHunter: compare current: "+dc+", setting: "+da+" with result = "+(c9?1:0));return c9};var e=bS.location.href,c2=false,c1=false,c7="",c3=0,c6;c6=c0?c0.split(","):[];if(!e||c6.length===0){c2=true}else{c7=aB(e);var c8;for(var c4=0;c4<c6.length;c4++){c8=c6[c4].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(c8)){if(c5(c7,c8.split(/^!/).join(""))){c1=true;break}}else{c3++;if(c5(c7,c8)){c2=true;break}}}}if(c1){s('LeadHunter: current page "'+c7+'" is disabled by list');return false}if(!c2&&c3>0){s('LeadHunter: current page "'+c7+'" is not listed');return false}s('LeadHunter: current page "'+e+'", cleaned: "'+c7+'" is not disabled in '+c6.length+" list of pages");return true};try{cR()}catch(b2){B(b2)}(function aR(){var dl="empty",c5=false,c0=true,de=false;var di={roistat_visit:i(bL),marker:bf,user_agent:bS.navigator.userAgent,current_page:{title:D.title,href:bS.location.protocol+"//"+bS.location.host+bS.location.pathname,},};var dm=function(dr,dq,dp){if(dr.addEventListener){dr.addEventListener(dq,dp,false)}else{if(dr.attachEvent){dr.attachEvent("on"+dq,dp)}else{s("Handler could not be attached")}}};var dg=function(dr,dp){if(dr===bn||typeof dp!=="string"||dp.length===0){return}var dq=dr.getElementsByClassName(dp);if(dq===bn||dq.length===0){return}return dq[0]};var dn=function(dp){return typeof dp==="object"&&dp!==null};var c6=function(dp,dr,dq){if(dn(dp)){if(dq){dp.classList.add(dr);return}dp.classList.remove(dr)}};var dj={leadHunter:function(){var fb="roistat-lh-form",dN="roistat-lh-form",fe="roistat-lh-head-text",d1="roistat-lh-head",dJ="roistat-lh-thank-you",es="roistat-lh-thank-you",du="roistat-lh-close",dv="roistat-lh-submit",ea="roistat-lh-hidden",eQ="roistat-lh-wrap",dP="roistat-lh-popup-wrapper",er="roistat-lh-popup",fd="roistat-lh-agreement",en="roistat-lh-agreement roistat-lh-mobile",fs="roistat-lh-agreement-input",e2="roistat-lh-agreement-link",dp="roistat-lh-agreement-doc",e7="roistat-lh-alert-row",ez="roistat-lh-agreement",em="roistat-lh-popup-iframe",eB="roistat_leadHunterUrl",e4="roistat_leadHunterAppearanceUrl",ee="roistat_leadHunterTargetPagesList",dI="roistat_leadHunterCaught",eI="roistat_leadHunterMinTime",d5="roistat_leadHunterAutoShowTime",eF="roistat_leadHunterPulsatorEnabled",dZ="roistat_leadHunterScriptsCaught",ft="roistat_leadHunterScriptsShownCount",ek="roistat-lh-load-done",dO="roistat-lh-close-modal",eS="roistat-lh-script-settings",eR="roistat-lh-setting-size",e8="roistat-lh-before-submit",eC="roistat-lh-before-submit-done",fg="roistat-lh-after-submit",eV="roistat-lh-event-data",eW="roistat-lh-translate-form",fq={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var dH=0.3,dT=0.001,dK=false,dW=0,dR=0,dX=0,fi=0,dV=0,eb=false,dz=false,dU,e6,eu,eA,eP,d0,fr,fm,e3,fp,dD,fj,eM,ev,el,dG,ds,d9,dY,d6,e0,e9,d3,fc,fh,ed;var fl={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var ff=function(fx){var fw=encodeURIComponent?encodeURIComponent:encodeURI;return fw(fx)};var eU=function(){if(!bS.roistat.leadHunter.isEnabled){return false}if(bS.roistatLeadHunterInited){return false}bS.roistatLeadHunterInited=true;if(bP.get(bo)<1){s("LeadHunter: disabled");return false}return true
};var d8=function(){ds=bP.get(eB);if(!ds){s("LeadHunter: not active cause of empty url");return false}d9=bP.get(e4);fi=bP.get(eI);dV=bS.roistat.leadHunter.form.autoShowTime===null?bP.get(d5):bS.roistat.leadHunter.form.autoShowTime;c5=bP.get(eF)==1;dr();return true};var eg=function(){return bP.get(dI)>0};var dr=function(){if(!(i(U)>0)){s("LeadHunter: not active, expired for this visit");eb=true}};var dA=function(fw){d6=e0.src;var fx={version:P,additionalNotifyEmail:bS.roistat.leadHunter.additionalNotifyEmail,projectKey:aP(),language:X,visitId:b9(),moduleTargetOrigin:bS.location.origin,referrer:bS.location.href,windowWidth:bS.innerWidth||0,iframeWrapperWidth:eA.offsetWidth||0,sendRequestUrl:bP.get(eB),message:ek};e0.contentWindow.postMessage(fx,d6);eH();if(fw){s("Beta Test on, iframe fired, rise up iframe show count state");dt()}};var ej=function(){dz=true;dy("click");dA();eO()};var dx=function(){var fw=bS.location.hash;if(!fw){return}if(cz(fw,"roistat-lead-hunter")){ej()}};var eh=function dF(){s("LeadHunter: binding timeout");if(eb){s("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(dK){s("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(dV>0){var fw=(dW-bU())+dV*1000;s("LeadHunter: binding timeout with delay "+fw+" ms");clearTimeout(fl.timeoutId);fl.timeoutId=setTimeout(function(){s("LeadHunter: form auto activate with autoTime = "+dV);if(!dK){s("LeadHunter: show by timeout");dz=true;dy("auto");dA(true);eO()}},fw)}else{s("LeadHunter: auto show time is not positive, feature disabled")}};var e5=function(){e3.onclick=eP.onclick=ex;fp.onclick=ec;if(dn(fj)){dm(fj,"click",eo)}if(dn(eM)){dm(eM,"change",fu)}var fx=D.getElementsByClassName("roistat-lh-input");if(Array.isArray(fx)){for(var fA=0;fA<fx.length;fA++){dm(fx[fA],"keyup",function(fC){fC=fC||event;var fB=(fC.keyCode?fC.keyCode:fC.which);if(fB==13){ec()}})}}var fy=bS.onresize;bS.onresize=function(fB){if(fy){fy(fB)}fa(fB)};if(!eb){var fw=D.onmouseout;D.onmouseout=function(fB){if(fw){fw(fB)}eL(fB)}}if(c5&&!dd()&&dn(dU)){dU.onmouseover=function(){ad(dU,"roistat-lh-pulsator-hover")};dU.onmouseout=function(){bK(dU,"roistat-lh-pulsator-hover")};dU.onclick=function(){ej()}}var fz=bS.onhashchange;bS.onhashchange=function(){if(fz){fz.apply(this,arguments)}dx()}};var fo=function(){if(c5&&!dd()&&dn(dU)){dU.onmouseover=function(){ad(dU,"roistat-lh-pulsator-hover")};dU.onmouseout=function(){bK(dU,"roistat-lh-pulsator-hover")};dU.onclick=function(){ej()}}eP.onclick=ex;e0=D.getElementById(em);if(dn(e0)){dm(e0,"load",function(){dA();fk()})}var fx=bS.onresize;bS.onresize=function(fz){if(fx){fx(fz)}fa(fz)};if(!eb){var fw=D.onmouseout;D.onmouseout=function(fz){if(fw){fw(fz)}if(!V()){s("ShowLimit: Beta Test off, check cursor usually");eL(fz)}else{s("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!eN()&&!dS()){s("ShowLimit: Check cursor allowed");eL(fz,true)}}}}var fy=bS.onhashchange;bS.onhashchange=function(){if(fy){fy.apply(this,arguments)}dx()}};var ew=function(fx){var fw=D.getElementsByClassName(fx);if(fw.length>0){return fw[0]}else{return null}};var et=function(){var fz=ew("roistat-lh-title");if(dn(fz)&&roistat.leadHunter.form.title){fz.innerHTML=roistat.leadHunter.form.title}var fx=ew("roistat-lh-sub-title");if(dn(fx)&&roistat.leadHunter.form.subTitle){fx.innerHTML=roistat.leadHunter.form.subTitle}var fy=ew("roistat-lh-thank-you");if(dn(fy)&&roistat.leadHunter.form.thankYouText){fy.innerHTML=roistat.leadHunter.form.thankYouText}var fB=ew("roistat-lh-submit");if(dn(fB)&&roistat.leadHunter.form.buttonText){fB.value=roistat.leadHunter.form.buttonText}var fA=ew("roistat-lh-text-label-name");if(dn(fA)&&roistat.leadHunter.form.nameLabel){fA.innerHTML=roistat.leadHunter.form.nameLabel}var fw=ew("roistat-lh-text-label-contact");if(dn(fw)&&roistat.leadHunter.form.contactLabel){fw.innerHTML=roistat.leadHunter.form.contactLabel}};var dQ=function(fx,fB,fA){var fw;if(!fx){s("LeadHunter: deactivating, empty form")}else{s("LeadHunter: rendering hidden form")}eP=D.createElement("div");eA=D.createElement("div");eA.innerHTML=fx;eP.className=ea;eA.className=ea;if(fB&&c5&&fA&&!dd()){var fy=typeof fA.position==="string"&&fA.position!==""?fA.position:"bottomRight";fw=D.createElement("div");fw.innerHTML=fB;dU=fw.childNodes.item(0);e6=dU.childNodes.item(1);eu=dU.childNodes.item(2).childNodes.item(0);e6.setAttribute("style","background: "+fA.button.background+";");eu.setAttribute("style","fill: "+fA.button.color+";");dU.setAttribute("style","bottom: "+fq[fy].bottom+";right:"+fq[fy].right+";");fl.pulsator.previousClass=dU.className;dU.className=ea;D.body.appendChild(dU)}D.body.appendChild(eP);D.body.appendChild(eA);d0=D.getElementById(d1);fr=D.getElementById(dN);fm=D.getElementById(es);e3=D.getElementById(du);fp=D.getElementById(dv);dD=D.getElementById(fd);eM=D.getElementById(fs);fj=D.getElementById(e2);ev=D.getElementById(dp);el=D.getElementById(e7);dG=D.getElementById(ez);var fz=ew(dP);dY=dn(fz)&&fz.getAttribute("data-is-iframe");if(dY){fo()
}else{et();e5();dx();fk()}};var fn=function(fy){var fx=fy.button&&fy.button.background&&fy.button.color;if(!fx){return}bP.setObject(LEAD_HUNTER_PULSATOR_SETTINGS,ed);var fw=typeof fy.position==="string"&&fy.position!==""?fy.position:"bottomRight";if(dn(e6)){e6.setAttribute("style","background: "+fy.button.background+";")}if(dn(eu)){eu.setAttribute("style","fill: "+fy.button.color+";")}if(dn(dU)){dU.setAttribute("style","bottom: "+fq[fw].bottom+";right:"+fq[fw].right+";")}};var dE=function(){var fw=bP.get(LEAD_HUNTER_FORM_TEMPLATE),fy=bP.get(LEAD_HUNTER_PULSATOR_TEMPLATE),fx=bP.getObject(LEAD_HUNTER_PULSATOR_SETTINGS);dQ(bW.decode(fw),bW.decode(fy),fx)};var ef=function(){var fx=eA.clientWidth,fw=eA.clientHeight;if(dn(eA)){eA.setAttribute("style",eA.getAttribute("style")+" width: "+fx+"px; height: "+fw+"px;")}if(dn(fr)){fr.className=ea}if(dn(d0)){d0.className=ea}if(dn(dD)){dD.className=ea}if(dn(fm)){fm.setAttribute("style","width: "+fx+"px; height: "+fw+"px; display: table-cell;");fm.className=dJ}setTimeout(function(){s("LeadHunter: close form after timeout");ex()},7000)};var eO=function(){var fx=Math.round((e1()-eA.clientHeight)/2);var fw=Math.round((fv()-eA.clientWidth)/2);if(dn(eA)){eA.setAttribute("style","left: "+fw+"px; top: "+Math.max(0,fx)+"px;")}};var dy=function(fx){if(bS.roistat.leadHunter.onBeforeAppear){s("LeadHunter: process user defined onBeforeAppear");bS.roistat.leadHunter.onBeforeAppear(fx);if(dY){eH()}}if(dn(eA)){eA.setAttribute("style","left:20px;top:-20px;opacity:0");eA.className=er}if(dn(eP)){eP.className=eQ}if(dn(fr)){fr.className=fb}if(dn(d0)){d0.className=fe}if(dn(dD)){dD.className=en}if(dn(fm)){fm.setAttribute("style","");fm.className=ea}if(dn(eP)){eP.setAttribute("style","opacity:0;")}dK=true;setTimeout(function(){eP.setAttribute("style","opacity:.5;")},10);var fy=i(bL),fw=d9+"?visit_id="+fy+"&page="+w();N(fw);if(bS.roistat.leadHunter.onAfterAppear){s("LeadHunter: process user defined onAfterAppear");bS.roistat.leadHunter.onAfterAppear(fy,eP,eA,fr);if(dY){eH()}}};var eT=function ey(){dW=bU();dE();s("LeadHunter: form initialized")};var fk=function ei(){s("LeadHunter: tuning appearance for page");if(!bq(bP.get(ee))||(bP.get(aI)&&!bP.get(Q))){s("LeadHunter: disabled on page");fl.leave.isShowEnabled=false;clearTimeout(fl.timeoutId);if(dd()){c0=false;da()}if(dn(dU)){dU.className=ea}}else{s("LeadHunter: enabled on page");if(!eg()&&!V()){s("ShowLimit: Beta Test off, bindShowOnTimeout usually");fl.leave.isShowEnabled=true;eh()}if(V()){s("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!eN()&&!dS()){s("ShowLimit: bindShowOnTimeout allowed");fl.leave.isShowEnabled=true;eh()}}if(dn(dU)){dU.className=fl.pulsator.previousClass}}};var d2=function eK(){s("LeadHunter: processing single page application state change");dW=bU();fk()};var eZ=function ep(){an(d2);const fx=function(){var fC=D.querySelector("html"),fz=600,fB=300,fD=bS.innerWidth,fy=getComputedStyle(fC).zoom,fA={};if(fD<fz&&fD>fB){fA={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:fy};e0.contentWindow.postMessage({sizeSettings:fA,message:eR},d6);return}if(fD<fB){fA={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:fy};e0.contentWindow.postMessage({sizeSettings:fA,message:eR},d6);return}fA={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:fy};e0.contentWindow.postMessage({sizeSettings:fA,message:eR},d6)};Y(bS,"load",function(){fx()});Y(bS,"resize",function(){fx()});Y(bS,"message",function fw(fD){var fC=typeof fD.data==="string"?fD.data:fD.data.message;if(fC===eS){e9=fD.data.scriptId;d3=fD.data.showsLimit;var fA=bP.getObject(o)!==null;if(fA){fc=fD.data.leadHunterAutoShowTime;fh=fD.data.leadHunterMinTime;fh=fD.data.leadHunterMinTime;ed=fD.data.leadHunterPulsatorSettings;bP.set(eI,fh);bP.set(d5,fc);if(ed){bP.set(eF,Number(ed.isEnabled));fn(ed)}}s("ShowLimit: Get lhScriptId: "+fD.data.leadHunterId+" and lhScriptMaxShownCount: "+fD.data.leadHunterMaxShownCount+" from lh widget");eE()}if(fC===dO){ex()}if(fC===eR){e0.setAttribute("style","width: "+fD.data.width+"px !important; height: "+fD.data.height+"px !important;");fa(fD)}if(fC===e8){var fE=fD.data.caughtLeadData;if(bS.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fz=bS.roistat.leadHunter.onBeforeSubmit(fE);if(fz){fE=fz}}if(!V()){s("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");dB()}else{s("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");eG()}var fy=bP.getObject(b6);var fB=fy!==null;var fF=fB&&fE.isNeedCallback===null&&!H(fy);if(fF){fE.isNeedCallback=0}e0.contentWindow.postMessage({caughtLead:fE,message:eC},d6)}if(fC===fg){if(bS.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bS.roistat.leadHunter.onAfterSubmit({name:fD.data.name,phone:fD.data.phone})}}})};function eH(){var fw={apiData:bS.roistat.leadHunter.form,message:eV};e0.contentWindow.postMessage(fw,d6)}function eE(){if(!eU()){s("checkLeadHunterLaunch false");
return}var fw=bP.getObject(o)!==null;if(fw){dC()}if(!d8()){s("initSettings false");return}s("LeadHunter: activated");eT();fk();eZ()}function e1(){return(bS.innerHeight?bS.innerHeight:D.documentElement.clientHeight==0?D.body.clientHeight:D.documentElement.clientHeight)}function fv(){return(bS.innerWidth?bS.innerWidth:D.documentElement.clientWidth==0?D.body.clientWidth:D.documentElement.clientWidth)}function eL(fz,fw){fz=fz||event;dX=fz.clientY;var fx=dX/e1(),fB=dR>0&&dR>fx,fy=fx<dT,fA=(bU()-dW)>fi*1000;if(fB&&fy&&!dK&&fA&&fl.leave.isShowEnabled&&!eg()){s("LeadHunter: show modal with because move up ("+dR+" -> "+fx+") and in modal zone and show on leave enabled");dy("exit");dA(fw);eq(fz)}if(fx<dH){dR=fx}}function fa(fw){if(dz){eO()}else{fw=fw||event;eq(fw)}}function eq(fB){var fx=fB.type==="message"?fB.data.width:eA.offsetWidth;var fy=fv();var fw=fB.clientX-Math.round(fx/2)||eA.offsetLeft;fw=Math.max(20,Math.min(fw,fy-fx-20));var fC=fw+fx>fy-40;if(fC){var fz=(fw+fx-20)-(fy-40);fw=fw-fz}var fA=fy-40>fx?"":"width: "+(fx-40)+"px;";if(dn(eA)){eA.setAttribute("style","left: "+fw+"px; top: 0px; "+fA)}}function dB(){bS.roistatSetCookie(dI,1,cp)}function ex(){if(!V()){s("ShowLimit: Beta Test off, setCookieLeadHunterCaught");dB()}if(dn(eP)){eP.setAttribute("style","opacity:0")}if(dn(eA)){eA.style.top="-"+eA.offsetHeight*2+"px";setTimeout(function(){eA.className=eP.className=ea},500)}}function ec(){var fK=D.getElementById("roistat-lh-phone-input"),fy=D.getElementById("roistat-lh-name-input"),fA,fI;fA=fK===null?"":fK.value;fI=fy===null?"":fy.value;var fF={name:fI,phone:fA,isNeedCallback:null,callbackPhone:null,fields:{}};if(bS.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fB=bS.roistat.leadHunter.onBeforeSubmit(fF);if(fB){fF=fB}}var fH=fF.phone.length<1;var fJ=fF.phone.indexOf("_")===-1;var fD=!fH&&fJ;var fG=fF.name.length<1;var fx=!fG||!bS.roistat.leadHunter.form.isNameRequired;if(!fD&&dn(fK)){fK.setAttribute("style","border: 2px solid #E0571A;");return}if(!fx&&dn(fy)){fy.setAttribute("style","border: 2px solid #E0571A;");return}var fw=ds+"?v="+P+"&lead-hunt-input="+encodeURIComponent(fF.phone)+"&lead-name="+encodeURIComponent(fF.name)+"&visit="+b9();if(fF.isNeedCallback!==null&&fF.isNeedCallback!==bn){fw=fw+"&is_need_callback="+(fF.isNeedCallback>0?1:0)}if(fF.callbackPhone){fw=fw+"&callback_phone="+fF.callbackPhone}if(bS.roistat.leadHunter.additionalNotifyEmail!==null){fw=fw+"&additional_email="+encodeURIComponent(bS.roistat.leadHunter.additionalNotifyEmail)}var fz=0;if(fF.fields&&typeof fF.fields==="object"){for(var fC in fF.fields){if(fF.fields.hasOwnProperty(fC)){++fz}}}if(fz>0){fw=fw+"&fields="+ff(JSON.stringify(fF.fields))}fw=fw+"&t="+bU();var fE=D.createElement("img");fE.src=fw;if(dn(fK)){fK.setAttribute("style","")}if(!V()){s("ShowLimit: Beta Test off, caught LH usually");dB()}else{s("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");eG()}if(!dn(fm)){ex();d7()}else{ef()}if(bS.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bS.roistat.leadHunter.onAfterSubmit({name:fI,phone:fA})}}function eo(fw){if(fw.preventDefault){fw.preventDefault()}else{fw.returnValue=false}if(dn(ev)){ev.style.display==="block"?ev.style.display="none":ev.setAttribute("style","display: block; padding: 0 30px; width:"+eA.clientWidth+"px;")}fa()}function fu(){if(dn(fp)){fp.disabled===true?fp.disabled=false:fp.disabled=true}if(dn(el)){el.style.display==="block"?el.style.display="none":el.style.display="block"}}function d7(){D.onmousemove=null;if(dn(eP)){eP.onresize=null}}var d4=function(fC,fF){if(!fC||!fF){s("LeadHunter: skip phone mask render due to empty input or mask");return}s("LeadHunter: render phone mask "+fF+" for input: "+fC.value);if(bS.roistatRenderPhoneMaskMutex){return}bS.roistatRenderPhoneMaskMutex=true;var fz="_",fy="x",fB="",fA=fF.toLowerCase().split(fy).join(fz).split(fB).join(fz);var fx=function(fG){if(fC.setSelectionRange){fC.setSelectionRange(fG,fG)}else{if(fC.createTextRange){var fH=fC.createTextRange();fH.collapse(true);fH.moveEnd("character",fG);fH.moveStart("character",fG);fH.select()}}};var fD=function(fG){if(!fG){return 0}var fH=fG.indexOf(fz);if(fH<0){return fG.length}return fH};var fE=function(fG){fx(fD(fG))};var fw=function(fP){var fQ=fA.split("");if(!fP){return fA}var fG=fP.split("");var fR=[],fO,fL,fN,fK,fI,fH,fM;for(var fJ=0;fJ<fQ.length;fJ++){fL=fQ[fJ];if(fJ>=fG.length){fR.push(fL);continue}fI=((fJ+1)<fQ.length)?fQ[fJ+1]:null;fH=((fJ+1)<fG.length)?fG[fJ+1]:null;fM=((fJ+2)<fG.length)?fG[fJ+2]:null;fO=fG[fJ];fN=parseInt(fO)>=0;fK=(fL===fz)&&fN;if(!fK){fR.push(fL);continue}if(fH===fz&&fI!==fz&&fM!==fI){fR.push(fL);continue}fR.push(fO)}return fR.join("")};setTimeout(function(){var fG=fw(fC.value);if(fC.value!==fG){fC.value=fG}fE(fG);bS.roistatRenderPhoneMaskMutex=false},1)};var eY=function(fw,fy,fx){bP.set(LEAD_HUNTER_FORM_TEMPLATE,bW.encode(fw));bP.set(LEAD_HUNTER_PULSATOR_TEMPLATE,bW.encode(fy));bP.setObject(LEAD_HUNTER_PULSATOR_SETTINGS,fx)
};var eD=function(fw){X=fw;if(e0===bn){return}dq()};var dq=function(){var fw={language:X,message:eW};e0.contentWindow.postMessage(fw,d6)};var eG=function(){s("ShowLimit: Start set roistat_leadHunterScriptsCaught");var fw=dL(dZ);if(!fw){fw={}}s("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");fw[e9]=1;eX(dZ,fw)};var dt=function(){s("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var fx=dL(ft);if(!fx){fx={}}var fy=fx.hasOwnProperty(e9);if(!fy){s("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");fx[e9]=0}var fw=fx[e9]+1>d3;if(fw){s("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}s("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");fx[e9]+=1;eX(ft,fx)};var eX=function(fw,fx){cM(fw,JSON.stringify(fx),cp)};var dL=function(fw){var fx=i(fw);if(typeof fx!=="undefined"){return JSON.parse(fx)}return fx};var dS=function(){if(d3===0){s("ShowLimit: show limit off and set to 0");return false}var fw=dL(ft),fx=fw?fw[e9]:null,fy=fx+1>d3;s("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+fy);return fy};var eN=function(){var fy=dL(dZ),fw=fy?fy[e9]:null,fx=fw===1;s("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+fx);return fx};var dC=function(){bP.set(aI,dw());bP.set(LEAD_HUNTER_FORM_TEMPLATE,bW.encode(eJ()));bP.set(ee,dM())};var eJ=function(){var fw=aU()+"//"+u+"/api/site/1.0/"+aP()+"/leadhunter/script/"+bP.get(aI)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+fw+'" frameborder="0"></iframe></div>'};var dw=function(){var fx=bP.getObject(o);if(fx===null){return}bP.set(Q,"");var fB=Number(bP.get(bo));var fF=Object.keys(fx);var fC=fF.sort()[0];if(!fB){return fC}for(var fA=0;fA<fF.length;fA++){var fG=fx[fF[fA]];var fD=fG.targetPageList;var fz=bq(fD.join(","));var fy=fD.length===0;var fw=Array.isArray(fG.devicesFilter)&&fG.devicesFilter.length>0?fG.devicesFilter.indexOf(A())!==-1:true;var fE=(fy||fz)&&fw&&(!fG.timetable.isEnabled||H(fG.timetable));if(fE){fC=fF[fA];bP.set(Q,fC)}}return fC};var dM=function(){var fw=bP.get(aI);var fx=JSON.parse(bP.get(o));return fx[fw]?fx[fw].targetPageList.join(","):""};b7(eE);bS.roistatLeadHunterShow=ej;bS.roistatRenderPhoneMask=d4;bS.roistat.leadHunter.localization.translateToRussian=function(){eD(bA)};bS.roistat.leadHunter.localization.translateToEnglish=function(){eD(cQ)}},multiwidget:function(){var d5="roistat-multiwidget-hidden",ef="roistat-multiwidget-pulsator-phone",ed="roistat-multiwidget-pulsator-popup-item-lead-hunter",dG="roistat-multiwidget-pulsator-fill",ei="roistat-multiwidget-pulsator-fill-svg",dW="roistat-multiwidget-pulsator-img-icon",dF="roistat-multiwidget-pulsator-popup-item-chat",ds="roistat-multiwidget-pulsator-popup-item-facebook",dx="roistat-multiwidget-pulsator-popup-item-vk",dV="roistat-multiwidget-pulsator-popup-item-telegram",dM="roistat-multiwidget-pulsator-popup-item-whats-app",dK="roistat-multiwidget-pulsator-popup-item-viber",d0="roistat-multiwidget-pulsator-items-popup-holder",dU="iframe_chat_successfully_loaded",dz="roistat-multiwidget-pulsator-popup-tail",dS="roistat-online-chat-popup-wrapper",eh="roistat-online-chat-popup-wrapper-hidden",eb="roistat-multiwidget-pulsator-holder-hidden";var dE,dZ,dN,ee,dp,dv,eg,dR,dB,dr,dC,dt,d7,du;var dJ=false;var ec={topLeft:{bottom:"unset",right:"unset",top:cV()?0:"20px",left:cV()?0:"35px",},topRight:{bottom:"unset",right:cV()?0:"35px",top:cV()?0:"20px",left:"unset"},bottomRight:{bottom:cV()?0:"20px",right:cV()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:cV()?0:"20px",right:"unset",top:"unset",left:cV()?0:"35px",}};var dy={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var dL={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function d4(ek){s("Multiwidget: "+ek)}function dT(){dZ=dg(dE,ef);dN=dg(dE,d0);ee=dg(dE,dz);dR=dg(dN,ed);dB=dg(dN,dF);dr=dg(dN,dx);dC=dg(dN,ds);dt=dg(dN,dV);
d7=dg(dN,dM);du=dg(dN,dK);dp=dg(dZ,dG);dv=dZ.getElementsByClassName(ei);eg=dg(dZ,dW)}function dH(){if(dn(dN)){dN.classList.toggle(d5)}}function ea(ek){if(dn(ek)){ek.classList.toggle("opened")}}function ej(){d4("add pulsator events");dm(dZ,"click",function(){if(!dP()){dH()}ea(dZ)});dm(dR,"click",function(){d4("opening leadhunter via multiwidget");bS.roistatLeadHunterShow();dH();c6(dZ,"opened",false)});dm(dB,"click",function(){d4("opening online chat via multiwidget");bS.roistatOnlineChatShow();dH()});dm(dr,"click",function(){bS.open(bP.get(ck),"_blank")});dm(dC,"click",function(){bS.open(bP.get(cC),"_blank")});dm(dt,"click",function(){bS.open(bP.get(a9),"_blank")});dm(d7,"click",function(){bS.open(bP.get(bl),"_blank")});dm(du,"click",function(){bS.open(bP.get(cb),"_blank")})}function dP(){var ek=dg(D,dS);return dn(ek)&&!ek.classList.contains(eh)}function dQ(){return dn(d0)&&!d0.classList.contains(d5)}function dw(ek){if(dn(ek)){ek.classList.add(d5)}}function d2(ek){if(dn(ek)){ek.classList.remove(d5)}}function dX(){dw(dR)}function dO(){d4("hiding disabled multiwidget options");var ek=Number(bP.get(bo)),el=Number(bP.get(bD)),en=Number(bP.get(L)),ep=Number(bP.get(b8)),em=Number(bP.get(ch)),eo=Number(bP.get(cZ));if(!ek||!c5||!c0){d4("hiding leadhunter option");dX()}if(!c9()||!dJ){d4("hiding online chat option");dw(dB)}if(!el){d4("hiding vk-messenger option");dw(dr)}if(!en){d4("hiding fb-messenger option");dw(dC)}if(!ep){d4("hiding telegram-messenger option");dw(dt)}if(!em){d4("hiding whatsApp-messenger option");dw(d7)}if(!eo){d4("hiding Viber-messenger option");dw(du)}}function dq(){var el=bP.getObject(MULTIWIDGET_PULSATOR_SETTINGS);d4("start filling pulsator");if(el){if(dn(dp)){dp.setAttribute("style","background: "+el.button_color+";")}if(dn(eg)){eg.setAttribute("style","fill: "+el.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(dv)){for(var ek=0;ek<dv.length;ek++){dv[ek].setAttribute("style","fill: "+el.button_color+";")}}}}function d1(){var ek=bP.getObject(MULTIWIDGET_PULSATOR_SETTINGS);return typeof ek.position==="string"&&ek.position!==""?ek.position:"bottomRight"}function dY(){if(dn(dE)){var ek=d1();dE.setAttribute("style","top: "+ec[ek].top+";right:"+ec[ek].right+";bottom:"+ec[ek].bottom+";left:"+ec[ek].left+";")}}function dI(){if(dn(dZ)){var ek=d1();var el=ek==="topLeft"||ek==="bottomLeft"?"margin-right":"margin-left";dZ.setAttribute("style",el+": auto")}}function d3(){if(dn(dN)){var ek=d1();dN.setAttribute("style","top: "+dy[ek].top+";right:"+dy[ek].right+";bottom:"+dy[ek].bottom+";left:"+dy[ek].left+";")}}function dA(){if(dn(ee)){var ek=d1();ee.setAttribute("style","top: "+dL[ek].top+";right:"+dL[ek].right+";bottom:"+dL[ek].bottom+";left:"+dL[ek].left+";border-top-color:"+dL[ek]["border-top-color"]+";border-right-color:"+dL[ek]["border-right-color"]+";border-bottom-color:"+dL[ek]["border-bottom-color"]+";border-left-color:"+dL[ek]["border-left-color"]+";")}}function d8(){dY();dI();d3();dA()}function dD(){var el=bW.decode(bP.get(MULTIWIDGET_PULSATOR_TEMPLATE));if(el){d4("appending multiwidget pulsator");var ek=D.createElement("div");ek.innerHTML=el;dE=ek.childNodes.item(0);if(!bS.roistat.multiwidget.isVisible){d4("Hide widget");dE.className=dE.className+" "+eb}D.body.appendChild(dE);dT();dO();dq();d8();ej()}}function d6(){Y(bS,"message",function ek(em){var el=typeof em.data==="string"?em.data:em.data.message;if(el===dU){dJ=true;d2(dB)}})}function d9(){d6();d4("activated");dD()}da=dX;b7(d9)},onlineChat:function(){var ek="iframe-module-created",dz="iframe_chat_successfully_loaded",dr="iframe-online-chat-opened",dw="iframe-online-chat-invite-message",em="roistat-online-chat-init",eJ="roistat-online-chat-reload",ev="roistat-online-chat-update-custom-params",dM="roistat-online-chat-lead_successfully_sent",eq="roistat-online-chat-translate-form",dU="roistat-online-chat-send-lead",ey="roistat_chat_id",eI="roistat_chat_session",el="roistat_chat_custom_position",dG,dA,ez,dB,ew,ed,dO,ec;var d8="roistat-online-chat-popup-iframe",dR="roistat-online-chat-hidden",eA="roistat-online-chat-holder",eu="roistat-online-chat-popup-wrapper",es="roistat-multiwidget-pulsator-phone",ds="roistat-multiwidget-pulsator-popup-item-chat",eb="roistat-online-chat-popup-wrapper-hidden",dP="roistat-online-chat-popup-mouse-track",d7="roistat-online-chat-popup-mouse-track-active",dT="roistat-online-chat-pulsator-fill",ex="roistat-online-chat-pulsator-img",d1="roistat-online-chat-pulsator-phone",dK="roistat-online-chat-pulsator-fill-svg",dF=".roistat-multiwidget-pulsator-items-popup",dD=".roistat-online-chat-pulsator-phone",d5=".roistat-online-chat-popup-wrapper";var dQ=false,dS=false,ef=0,du=0;var d9=".roistat-online-chat-holder";var d0="roistat-online-chat-holder-hidden";if(dd()){d9=".roistat-multiwidget-pulsator-holder";d0="roistat-multiwidget-pulsator-holder-hidden"}var eD;var eH={topLeft:{bottom:"unset",right:"unset",top:cV()?0:"20px",left:cV()?0:"35px",},topRight:{bottom:"unset",right:cV()?0:"35px",top:cV()?0:"20px",left:"unset"},bottomRight:{bottom:cV()?0:"20px",right:cV()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:cV()?0:"20px",right:"unset",top:"unset",left:cV()?0:"35px",}};
var ea={topLeft:{top:cV()?"90px":"130px",right:"unset",bottom:"unset",left:cV()?"3%":"65px"},topRight:{top:cV()?"90px":"130px",right:cV()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:cV()?"3%":"65px",bottom:cV()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:cV()?"90px":"130px",left:cV()?"3%":"65px"}};var eB={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var ej=function(eL){s("onlineChat: "+eL)};var dL=function(){function eL(){return Math.random().toString(36).substr(2,8)}return eL()+eL()+eL()+eL()};var dC=function(){var eL=bP.get(eI);if(!eL){eL=dL();bP.set(eI,eL)}return eL};var dt=function(){var eL={message:ek,detail:{version:P,language:p,projectKey:aP(),visitId:b9(),firstVisit:bP.get(aK),chatId:i(ey),moduleTargetOrigin:bS.location.origin,referrer:bS.location.href,params:di,sessionUniqueKey:dC()}};ew.contentWindow.postMessage(eL,ew.src)};var dH=function(){var eL={message:dr,detail:{isOpened:eC()}};ew.contentWindow.postMessage(eL,ew.src)};var dJ=function(){var eL={message:ev,detail:{params:di}};ew.contentWindow.postMessage(eL,ew.src)};var dp=function(){var eL={language:p,message:eq};ew.contentWindow.postMessage(eL,ew.src)};var er=function(){Y(bS,"message",function eL(eO){var eN=typeof eO.data==="string"?eO.data:eO.data.message;var eM=typeof eO.data!=="string"?eO.data.detail:{};ej("event: "+eN+" "+JSON.stringify(eM));switch(eN){case dz:et();bS.setRoistatOnlineChatCustomParams=dX;dX(di);break;case ek:dt();break;case em:ej("saving chat id = "+eM.chatId);cM(ey,eM.chatId,{path:"/"});break;case dw:ej("rendering invite message");en(eM.message);break;case dU:ej("sending lead");dI(eM.leadData)}})};var dW=function(){var eM=bS.roistat.onlineChat.notificationsCustomHolderSelector;var eL=eM!==null;return D.querySelector(eL?eM:d9)};var dI=function(eL){bS.roistatGoal.reach(eL,function(){ew.contentWindow.postMessage(dM,ew.src)})};var en=function(eS){if(eC()){return}var eN="<div class='roistat-online-chat-message'><img src='"+eS.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+eS.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+eS.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var eR=D.createElement("div");eR.innerHTML=eN;var eQ=dW();if(dn(eQ)){var eT=ee()?"beforeend":"afterbegin";eQ.insertAdjacentHTML(eT,eN);var eP=eQ.getElementsByClassName("roistat-online-chat-message-close");var eL=eQ.getElementsByClassName("roistat-online-chat-message");var eO=eP[ee()?eP.length-1:0];var eM=eL[ee()?eP.length-1:0]}setTimeout(function(){eM.remove()},15000);dm(eM,"click",function(eU){eU.stopPropagation();if(!eC()){ep()}eE()});dm(eO,"click",function(eU){eU.stopPropagation();eM.remove()})};var eE=function(){var eM=dW();if(dn(eM)){var eL=eM.getElementsByClassName("roistat-online-chat-message");while(eL.length>0){eL[0].remove()}}};var eG=function(){ew=D.getElementById(d8);if(dn(ew)){dm(ew,"load",function(){d6()})}dm(D,"click",function(eQ){var eP=bS.roistat.onlineChat.customTriggerSelector;if(dd()){var eR=dg(D,es);var eO=dg(D,ds);var eN=eC()&&eQ.target!==eO&&!eO.contains(eQ.target);if(eN){c6(eR,"opened",false)}}else{var eL=dg(D,eA);var eM=eC()&&eQ.target!==eL&&!eL.contains(eQ.target);if(eM){c6(eL,"opened",false)}}if(eC()&&(eQ.target.closest(dF)===null&&eQ.target.closest(d5)===null&&eQ.target.closest(dD)===null&&(eP?eQ.target.closest(eP)===null:true))){ep()}})};var dq=function(eN){var eM=ez.getBoundingClientRect().x;var eL=ez.getBoundingClientRect().y;dS=true;dv();ef=eN.pageX-eM;if(ee()){du=eN.pageY+eL}else{du=eN.pageY-eL}};var dZ=function(){dS=false;eo();dN()};var dv=function(){if(dn(dA)){dA.classList.add(d7)}};var eo=function(){if(dn(dA)){dA.classList.remove(d7)}};var eg=function(eT){if(dS&&dn(ez)){var eL=ez.getBoundingClientRect();var eS=eL.width;var eR=400;var eM=50;var eW=0;var eO=bS.innerHeight-eR;var eU=eT.pageX-ef;var eQ=eM;var eN=bS.innerWidth-eM-eS;if(ee()){eW=bS.innerHeight-(eT.pageY+eL.y)-20}else{eW=eT.pageY-du}var eV=eF();var eP=eV==="bottomLeft"||eV==="bottomRight"?"top":"bottom";if(eU>=eQ&&eU<=eN){ez.style.left=eU+"px";if(!eK()){ez.style.right="unset"}}if(eW>=50&&eW<=eO){ez.style[eP]=eW+"px"}}};var dN=function(){var eL={position:eF(),top:ez.style.top,left:ez.style.left,bottom:ez.style.bottom,right:ez.style.right};bP.setObject(el,eL)};var eF=function(){var eL=bP.getObject(MULTIWIDGET_PULSATOR_SETTINGS);var eM=typeof eL.position==="string"&&eL.position!=="";return eM?eL.position:"bottomRight"};var ee=function(){var eL=eF();return eL==="topLeft"||eL==="topRight"};var eK=function(){var eL=eF();return eL==="topLeft"||eL==="bottomLeft"};var dy=function(){var eL=eF();
var eO=bS.roistat.onlineChat.customPosition;var eM=eO&&eO.top!==null?eO.top:ea[eL].top;var eP=eO&&eO.right!==null?eO.right:ea[eL].right;var eQ=eO&&eO.bottom!==null?eO.bottom:ea[eL].bottom;var eN=eO&&eO.left!==null?eO.left:ea[eL].left;ez=V()?dg(dG,eA):dg(dG,eu);if(dn(ez)){ez.classList.toggle(eb);ez.setAttribute("style","top: "+eM+";right:"+eP+";bottom:"+eQ+";left:"+eN+";")}};var dY=function(){if(dn(dA)){var eL=eF();dA.setAttribute("style","top: "+eB[eL].top+";bottom:"+eB[eL].bottom+";height:"+eB[eL].height+";")}};var dV=function(){if(dn(eD)){var eL=eF();eD.setAttribute("style","top: "+eH[eL].top+";right:"+eH[eL].right+";bottom:"+eH[eL].bottom+";left:"+eH[eL].left+";")}};var d3=function(){ej("iframe appending to page");var eL=bW.decode(bP.get(ONLINE_CHAT_IFRAME_TEMPLATE));dG=D.createElement("div");dG.innerHTML=eL;D.body.appendChild(dG);dA=dg(D,dP);dy();eG()};var d4=function(){var eM=bP.getObject(MULTIWIDGET_PULSATOR_SETTINGS);ej("start filling pulsator");if(eM){if(dn(ed)){ed.setAttribute("style","background: "+eM.button_color+";")}if(dn(dO)){dO.setAttribute("style","fill: "+eM.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ec)){for(var eL=0;eL<ec.length;eL++){ec[eL].setAttribute("style","fill: "+eM.button_color+";")}}}};var et=function(){var eM=bW.decode(bP.get(ONLINE_CHAT_PULSATOR_TEMPLATE));var eO=!cf()&&bS.roistatOnlineChatOnly;var eN=(eM&&!dd()&&c9())||eO;if(eN){ej("pulsator appending to page");var eL=D.createElement("div");eL.innerHTML=eM;eD=eL.childNodes.item(0);if(!bS.roistat.multiwidget.isVisible){ej("Hide widget");eD.className=eD.className+" "+d0}ed=dg(eD,dT);dO=dg(eD,ex);dB=dg(eD,d1);ec=D.getElementsByClassName(dK);D.body.appendChild(eD);dV();dE();d4()}};var dE=function(){if(dn(eD)){dm(eD,"click",function(){ep();dx(eD)})}};function dx(eL){if(dn(eL)){eL.classList.toggle("opened")}}var eC=function(){return dn(ez)&&!ez.classList.contains(eb)};var ep=function(){setTimeout(function(){dS=false},3000);if(dn(ez)){ez.classList.toggle(eb)}if(eC()){eE()}dH()};var ei=function(){var eL=dW();if(dn(eL)){eL.classList.toggle(d0)}};var d2=function(eL){p=eL;if(!dn(ew)){return}dp()};var d6=function(){dQ=true;bS.roistatOnlineChatShow=ep;bS.roistatMultiwidgetShow=ei;ej("chat window initialized")};function dX(eL){c1(eL);dJ()}function eh(){d3();er()}bS.roistat.onlineChat.localization.translateToRussian=function(){d2(bA)};bS.roistat.onlineChat.localization.translateToEnglish=function(){d2(cQ)};b7(eh)}};function df(dp){s("Widgets: "+dp)}function e(dp){return dp!==dl}function c1(dr){var dq=Object.keys(dr);for(var dp=0;dp<dq.length;dp++){di[dq[dp]]=dr[dq[dp]]}}function dd(){var dx=Number(bP.get(bo)),dt=dx&&c5&&c0,dB=Number(bP.get(aV)),ds=c9(),dy=Number(bP.get(bD)),du=Number(bP.get(L)),dp=Number(bP.get(b8)),dr=Number(bP.get(ch)),dA=Number(bP.get(cZ)),dz=dt||ds||dy||du||dp||dr||dA,dq=dt&&!ds&&!dy&&!du&&!dp&&!dr&&!dA,dw=ds&&!dt&&!dy&&!du&&!dp&&!dr&&!dA,dC=!cf()&&bS.roistatOnlineChatOnly,dv=cf()&&cO();s("Is online chat only: "+dC);s("Is rp: "+dC);return dB&&dz&&!dw&&!dq&&!dC&&!dv}function c9(){var dp=Number(bP.get(ci));if(!dp){s("OnlineChat: Online chat is disabled");return false}var dq=bP.getObject(y);if(!dq.is_available_for_current_user_agent){s("OnlineChat: Current device group is disabled");return false}if(!dq.pages_filter.is_enabled){s("OnlineChat: Pages filter is disabled");return true}return bq(dq.pages_filter.pages.join(","))}function da(){df("Multiwidget disabled. Hide leadhunter pulsator from module")}function c3(dp,dr,dq){bP.set(LEAD_HUNTER_FORM_TEMPLATE,bW.encode(dp));bP.set(LEAD_HUNTER_PULSATOR_TEMPLATE,bW.encode(dr));bP.setObject(LEAD_HUNTER_PULSATOR_SETTINGS,dq)}function c8(dq,dp){bP.set(MULTIWIDGET_PULSATOR_TEMPLATE,bW.encode(dq));bP.setObject(MULTIWIDGET_PULSATOR_SETTINGS,dp)}function c7(dr,dp,dq){bP.set(ONLINE_CHAT_PULSATOR_TEMPLATE,bW.encode(dr));bP.set(ONLINE_CHAT_IFRAME_TEMPLATE,bW.encode(dp));bP.set(ci,dq)}function dc(dp,dr,dq){c3(dp,dr,dq);bP.set(MULTIWIDGET_PULSATOR_TEMPLATE,bW.encode(dl));bP.set(ONLINE_CHAT_IFRAME_TEMPLATE,bW.encode(dl));de=false;dj.leadHunter()}function c2(dA,dw,du){var dr=dA.form_template,dB=dA.pulsator_template,dt=dA.pulsator_settings;if(cO()){dc(dr,dB,dt);return}df("start initing widgets");var dx=du.pulsator_template,ds=du.iframe_template,dz=dw.pulsator_template,dp=dw.pulsator_settings,dv=Number(bP.get(bo)),dq=Number(du.settings.is_enabled),dy=bP.getObject(o)!==null;c3(dr,dB,dt);c8(dz,dp);c7(dx,ds,dq);if(dy){bP.set(LEAD_HUNTER_FORM_TEMPLATE,bW.encode(c4()))}de=true;if(dv&&!ay()){df("leadhunter enabled. Start processing");dj.leadHunter()}if(c9()){df("online chat enabled. Start processing");dj.onlineChat()}if(dd()){df("multiwidget enabled. Start processing");dj.multiwidget()}}var c4=function(){var dp=aU()+"//"+u+"/api/site/1.0/"+aP()+"/leadhunter/script/"+bP.get(aI)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+dp+'" frameborder="0"></iframe></div>'};function dk(){var dr=bP.get(LEAD_HUNTER_FORM_TEMPLATE),dB=bP.get(LEAD_HUNTER_PULSATOR_TEMPLATE),dt=bP.getObject(LEAD_HUNTER_PULSATOR_SETTINGS),dw=bP.get(ONLINE_CHAT_PULSATOR_TEMPLATE),ds=bP.get(ONLINE_CHAT_IFRAME_TEMPLATE),dq=bP.get(ci),dy=bP.get(MULTIWIDGET_PULSATOR_TEMPLATE),dp=bP.getObject(MULTIWIDGET_PULSATOR_SETTINGS);
bS.roistatLeadhunterForm=dc;bS.roistatMultiwidget=c2;if(!dr||!dB||!dt||!dy||!dp||!dw){df("requesting data from server");aJ(aU()+"//"+u+"/api/site/"+aa+"/"+aP()+"/multiwidget?domain="+encodeURIComponent(D.domain))}else{var dA=bW.decode(dy);var dx=bW.decode(ds);if((!e(dA)||!e(dx)||cO())&&!ay()){df("initing LeadHunter form");bS.roistatLeadhunterForm(bW.decode(dr),bW.decode(dB),dt)}else{df("initing multiwidget form");var du={pulsator_template:dA,pulsator_settings:dp},dv={form_template:bW.decode(dr),pulsator_template:bW.decode(dB),pulsator_settings:dt},dz={iframe_template:dx,pulsator_template:bW.decode(dw),settings:{is_enabled:Number(dq),},};bS.roistatMultiwidget(dv,du,dz)}}}function db(){dk();df("Widgets: form initialized")}function dh(){df("activated");db()}b7(dh);bS.setRoistatOnlineChatCustomParams=c1;bS.roistatSaveLeadHunterTemplates=c3;bS.roistatSaveMultiwidgetTemplate=c8;bS.roistatSaveOnlineChatTemplate=c7})();(function r(){var dc=function(){return i(cT)};var da=function(){return bP.get(a3)};var c3=function(){return bP.get(be)};var dg=function(di){return di!=null&&di!==bn&&di!==""};var df=function(){var di=[];var dj=D.getElementsByClassName(ah);if(dj&&dj.length){di=dj}return di};var c1=function(){var di=[];var dj=D.getElementsByClassName(C);if(dj&&dj.length){di=dj}return di};var c0=function(){var di=[];var dj=D.getElementsByClassName(ac);if(dj&&dj.length){di=dj}return di};var c5=function(){var di=[];var dj=D.getElementsByClassName(F);if(dj&&dj.length){di=dj}return di};var c8=function(){var di=[];var dj=D.getElementsByClassName(cL);if(dj&&dj.length){di=dj}return di};var e=function(dw,dj){s("CallTracking: RenderPhone phone = "+dw);var dp=function(dy){return dy.split(/[^0-9]/).join("")};var dq=function(dB,dD){var dG=null;if(!dB){return dG}var dy=dD.split(",");if(dy.length<2){dG=dD}else{var dz=dB.getAttribute("data-prefix");if(dz){for(var dC=0;dC<dy.length;dC++){var dE=dy[dC];var dF=dp(dE);if(dF.indexOf("8")===0){dF="7"+dF.substring(1)}var dA=dF.split(dz)[0]==="";if(dA){dG=dE;break}}}if(dG===null){dG=dy[0]}s("CallTracking._getPhoneForElement: Prepared phone = "+dG+" for data-prefix = "+dz)}return dG};var dm=function(dC,dA){var dy=dq(dC,dA);if(!dy||!dC){return}if(dC.tagName.toLowerCase()!=="a"){return}var dB=dC.getAttribute("href");if(cz(dB,"tel:")){var dz=dp(dy);if(dz.indexOf("8")===0){dz="7"+dz.substring(1)}dC.setAttribute("href","tel:+"+dz);dn(dC,dy)}};var dn=function(dz,dy){if(!dz.hasAttribute("title")){return}dz.setAttribute("title",dy)};var ds=function(dA,dz){var dy=dq(dA,dz);if(!dy||!dA){return}dA.innerHTML=dy};var dx=function(dy){var dz=df();s("CallTracking: render phone default classes for "+dz.length+" elements");q(dz,function(dA){ds(dA,dy);dm(dA,dy)});q(c1(),function(dB){var dA=dp(dq(dB,dy)).slice(0,1);ds(dB,dA)});q(c0(),function(dB){var dC=dq(dB,dy).match(/\((.*)\)/);if(dC!==null){var dA=dC[1];ds(dB,dA)}});q(c5(),function(dC){var dA=dq(dC,dy).match(/\)(.*)/);if(dA!==null){var dD=dp(dA[1]);var dB=dD.slice(-1*dD.length,-4)+"-"+dD.slice(-4,-2)+"-"+dD.slice(-2);ds(dC,dB)}});q(c8(),function(dA){dm(dA,dy)})};var dv=function(dy,dD){if(!dD){return}s("CallTracking: render phone user replacement for "+dD.length+" replacements");for(var dC=0;dC<dD.length;dC++){var dF=dD[dC];if(!dF){continue}var dA=dF[0];dF=dF.substr(1);var dE=[];if(dA==="#"){var dB=D.getElementById(dF);if(dB!==null){dE.push(dB)}}else{dE=D.getElementsByClassName(dF);dl(dF,dy)}if(!dE||dE.length<1){continue}s("CallTracking: render phone for "+dF+", "+dE.length+" elements");for(var dz=0;dz<dE.length;dz++){ds(dE[dz],dy);dm(dE[dz],dy)}}};var dr=function(dy){for(var dz=0;dz<dy.length;dz++){dv(dy[dz].phone,dy[dz].css_selectors);du(dy[dz].phone,dy[dz].replaceable_numbers)}};var du=function(dA,dz){if(!dz||dz.length===0){return}var dy=function(){var dL=dE();var dK=D.getElementsByTagName("*");var dF=dK.length;for(var dJ=0;dJ<dF;dJ++){var dM=dK[dJ];dB(dM,dL,dq(dM,dA));var dI=dM.childNodes.length;for(var dG=0;dG<dI;dG++){var dH=dM.childNodes[dG];dD(dH,dL,dq(dH,dA))}}};var dB=function(dJ,dI,dF){if(!dC(dJ)){return}var dK=dJ.getAttribute("href").replace("tel:","");var dH=dI.length;for(var dG=0;dG<dH;dG++){if(dI[dG].test(dK)){dm(dJ,dq(dJ,dF))}}};var dC=function(dG){if(dG.tagName.toLowerCase()!=="a"){return false}var dF=dG.getAttribute("href");return aM(dF)&&dF.indexOf("tel:")===0};var dE=function(){var dH=[];for(var dF=0;dF<dz.length;dF++){var dG="[\\s()[\\]{}\\-+.]*";var dI=dz[dF].split("").join(dG);dH.push(new RegExp("[+(]?"+dI,"g"))}return dH};var dD=function(dI,dH,dF){if(dI.nodeType!==Node.TEXT_NODE){return}for(var dG=0;dG<dH.length;dG++){if(dI.textContent&&dH[dG].test(dI.textContent)){dI.textContent=dI.textContent.replace(dH[dG],dF)}else{if(dI.innerText&&dH[dG].test(dI.innerText)){dI.innerText=dI.innerText.replace(dH[dG],dF)}}}};dy()};var dl=function(dz,dy){q(dk(dz+"-"+bu),function(dB){var dA=dp(dq(dB,dy)).slice(0,1);ds(dB,dA)});q(dk(dz+"-"+aC),function(dB){var dC=dq(dB,dy).match(/\((.*)\)/);if(dC!==null){var dA=dC[1];ds(dB,dA)}});q(dk(dz+"-"+a2),function(dC){var dA=dq(dC,dy).match(/\)(.*)/);
if(dA!==null){var dD=dp(dA[1]);var dB=dD.slice(-1*dD.length,-4)+"-"+dD.slice(-4,-2)+"-"+dD.slice(-2);ds(dC,dB)}});q(dk(dz+"-"+bG),function(dA){dm(dA,dy)})};var dk=function(dz){var dy=[];var dA=D.getElementsByClassName(dz);if(dA&&dA.length){dy=dA}return dy};var dt=function dt(){var dz=c3();if(dz){dz=dz.split("\n");for(var dy=0;dy<dz.length;dy++){dz[dy]="."+dz[dy]}}if(dj instanceof Array){dr(dj)}else{dx(dw);dv(dw,dz)}};(function di(){dt();var dy=[300,5000,15000];dy.forEach(function(dz){setTimeout(dt,dz)})})()};var c2=function(di){bP.save(m,di,cp)};var db=function(){if(bS.roistat.callTracking.phone){var di={expires:parseInt(bS.roistat.callTracking.sessionTime),path:"/"};if(cp.domain){di.domain=cp.domain}cM(cT,bS.roistat.callTracking.phone,di);c2(1);bP.save(be,bS.roistat.callTracking.replacementClasses,cp);bP.save(a3,bS.roistat.callTracking.phoneScriptsJson,cp)}};var c9=function(di,dm,dk,dj){s("CallTracking: reuse phone "+di+" for time "+dm+" and replacements "+dk);if(!dg(di)){s("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cD();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=di;roistat.callTracking.sessionTime=dm;roistat.callTracking.replacementClasses=dk;roistat.callTracking.phoneScriptsJson=dj;cD();db();var dn={expires:parseInt(dm),path:"/"};if(cp.domain){dn.domain=cp.domain}cM(cT,di,dn);bP.save(a3,dj,cp);bP.save(be,dk,cp);var dl=cH(dj);if(dl==null){e(di)}else{e(di,dl)}};var c4=function(){s("CallTracking: request new phone");var di=i(bL);var dm=ae();var dl=dm?dm:bf;var dk=encodeURIComponent(b5);var dj=J()+"/get-phone?visit="+di+"&marker="+(dl?dl:"")+"&prefix="+cd+"&prefix_bind="+cU+"&phone_scripts_bind="+M+"&page="+dk;aJ(dj)};var c6=function(){cd=bS.roistatPhonePrefix?bS.roistatPhonePrefix:"";cU=bS.roistatPhonePrefixBind?bS.roistatPhonePrefixBind:"";M=bS.roistatCalltrackingScripts&&bS.roistatCalltrackingScripts.join?bS.roistatCalltrackingScripts.join(","):"";s("CallTracking: refresh phone with prefix: "+cd+", binding: "+cU+", scripts: "+M);c4()};var dh=function(){var di=bP.get(m)>0;var dj=bC.callTrackingEnabled;return di&&dj};var c7=function(di){c2(di.is_enabled)};var de=function de(){var di=dc();if(!dg(di)){s("CallTracking: invalid phone "+di+", requesting a new one");c4()}else{s("CallTracking: render phone "+di);var dj=cH(da());if(dj==null){e(di)}else{e(di,dj)}}};var dd=function(){s("CallTracking: init");if(ay()){s("CallTracking: Shut down because only online chat need to be inited");return}db();if(!dh()){s("CallTracking: disabled, skip");return}if(bC.callTrackingManual){s("CallTracking: init finish because off manual");return}de();an(de)};bS.roistatCallTrackingRefresh=c6;bS.roistatRequestNewPhone=c4;bS.roistatReusePhone=c9;bS.roistatCalltrackingUpdateSettings=c7;b7(dd)})();(function z(){var c1=function(c7){s("Emailtracking: "+c7)};var c5=function(c7,c9,c8){bP.save(bd,c7,cp);bP.save(b,c9,cp);bP.save(br,JSON.stringify(c8),cp)};var c0=function(){var c7=(bS.roistat.emailtracking.email&&bS.roistat.emailtracking.trackingEmail)||aD(bS.roistat.emailtracking.emails);if(bS.roistat.emailtracking.loaded&&c7){c1("save loaded email: "+bS.roistat.emailtracking.email);c5(bS.roistat.emailtracking.email,bS.roistat.emailtracking.trackingEmail,bS.roistat.emailtracking.emails)}else{c1("settings save skip, because not loaded");bS.roistat.emailtracking.email=bP.get(bd);bS.roistat.emailtracking.email=bS.roistat.emailtracking.email?bS.roistat.emailtracking.email:null;bS.roistat.emailtracking.email=bS.roistat.emailtracking.email==="null"?null:bS.roistat.emailtracking.email;c1("email loaded from storage: "+bS.roistat.emailtracking.email);bS.roistat.emailtracking.trackingEmail=bP.get(b);bS.roistat.emailtracking.trackingEmail=bS.roistat.emailtracking.trackingEmail?bS.roistat.emailtracking.trackingEmail:null;bS.roistat.emailtracking.trackingEmail=bS.roistat.emailtracking.trackingEmail==="null"?null:bS.roistat.emailtracking.trackingEmail;c1("tracking email loaded from storage: "+bS.roistat.emailtracking.trackingEmail);bS.roistat.emailtracking.emails=cH(bP.get(br));bS.roistat.emailtracking.emails=bS.roistat.emailtracking.emails?bS.roistat.emailtracking.emails:null;c1("emails loaded from storage: "+JSON.stringify(bS.roistat.emailtracking.emails))}};var c3=function(c7){c5(c7.email,c7.trackingEmail,c7.emails)};var c2=function(){var c7=(!!bS.roistat.emailtracking.email&&!!bS.roistat.emailtracking.trackingEmail)||aD(bS.roistat.emailtracking.emails);return bS.roistat.emailtracking.enabled&&c7};var e=function(){if(!c2()){c1("emailtracking disabled, skip swapping");return}var c8=function(dd,de,dc){if(dd.href){var db=at(dd.href);if(de.test(db)){dd.href=db.replace(de,dc);return true}}if(dd.nodeType!==3){return false}if(dd.textContent&&de.test(dd.textContent)){dd.textContent=dd.textContent.replace(de,dc);return true}else{if(dd.innerText&&de.test(dd.innerText)){dd.innerText=dd.innerText.replace(de,dc);return true}}return false};var c7=function(db){return db.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")
};var c9=function(dd,dc){var db=!dc.match(/[a-z]/);return db?dd.toUpperCase():dd};var da=function(dj,dl){var dm=c7(dj);var dd=new RegExp("(^|\\s)(mailto:)?("+dm+")($|\\s|\\?)","gi");var dn=function(dt,dr,dp,dq,ds){dp=dp||"";return dr+dp+c9(dl,dq)+ds};c1("starting to replace email "+dj+" to "+dl+" with regexp "+dd);var dc=D.getElementsByTagName("*");var df=dc.length;c1("found "+df+" nodes on page");var di=0;for(var dh=0;dh<df;dh++){var de=dc[dh];var dk=de.childNodes.length;if(dk>0){for(var dg=0;dg<dk;dg++){var db=de.childNodes[dg];if(c8(db,dd,dn)){di++}}}if(c8(de,dd,dn)){di++}}c1("successfully replaced "+di+" nodes")};if(bS.roistat.emailtracking.emails){a6(bS.roistat.emailtracking.emails,da)}else{da(bS.roistat.emailtracking.email,bS.roistat.emailtracking.trackingEmail)}};var c4=function(){c1("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var c6=function(){c1("init");if(ay()){c1("Shut down because only online chat need to be inited");return}an(c4);c0();c4()};bS.roistatEmailtrackingUpdateSettings=c3;bS.roistat.emailtracking.refresh=e;b7(c6)})();(function a8(){var c2=function(c4){s("MultiDomain: "+c4)};var c1=function(){return bP.get(ROISTAT_IS_MULTI_DOMAIN)>0};var c0=function(c8){var c9=function(db){if(!db){return false}if(cz(db,"roistat_visit")){return false}var da=aT(db);var dd=aT(D.domain);var dc=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return da!==dd&&dc.test(db)};var c7=function(dd){var de=dd.split("#");var dc=de[0].split("?");var da="";var db="";if(dc.length===2){da=dc[1]}if(da){db="&"}da=da+db+"roistat_visit="+roistat.getVisit();dc[1]=da;de[0]=dc.join("?");return de.join("#")};if(c8.tagName.toLowerCase()!=="a"){return}var c6=c8.getAttribute("href");var c5=false;if(c9(c6)){var c4=c7(c6);c2("update url "+c6+" > "+c4);c8.setAttribute("href",c4);c5=true}return c5};var e=function(){if(!c1()){c2("disabled, skip");return}var c4=D.getElementsByTagName("a");var c5=c4.length;c2("found "+c5+" <a> nodes on page");var c8=0;for(var c6=0;c6<c5;c6++){var c7=c4[c6];if(c0(c7)){c8++}}c2("replaced "+c8+" nodes")};var c3=function(){c2("init");if(ay()){c2("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};b7(c3)})();(function cy(){var e=60*1000;var c6=2*60*1000;var c0=function(c8){s("SettingsUpdater: "+c8)};var c4=function(){bP.set(SETTINGS_UPDATE_TIME_KEY,bU())};var c5=function(){var c9=cE();var c8=!(c9>0);c0("is first update check: lastUpdateTime="+c9+", result="+(c8?1:0));return c8};var c7=function(){var da=bU()-c6;var c9=cE();var c8=c9<=da;c0("expiration check: _minTime="+da+", lastUpdateTime="+c9+", result="+(c8?1:0));return c8};var c1=function(c9){var c8=i(bL);a(c8,c9)};var c2=function(c9){c0("update settings and save last update time");var c8=bP.getObject(o)!==null;if(c8){bP.set(o,c9.js_settings.leadHunterTargetPagesMap)}bS.roistatCalltrackingUpdateSettings(c9.calltracking);bS.roistatEmailtrackingUpdateSettings(c9.emailtracking);bS.roistatSaveLeadHunterTemplates(c9.leadhunter_templates.form_template,c9.leadhunter_templates.pulsator_template,c9.leadhunter_templates.pulsator_settings);bS.roistatSaveMultiwidgetTemplate(c9.multiwidget_templates.pulsator_template,c9.multiwidget.pulsator_settings);bS.roistatSaveOnlineChatTemplate(c9.online_chat_templates.pulsator_template,c9.online_chat_templates.iframe_template);bS.roistatSaveProxyFormSettings(c9.proxy_forms);aW(c9.js_settings);cq(c9.multiwidget.multiwidget_settings);bT(c9.online_chat);t(c9.geo);b4(c9.promo_code);bM.isSettingsUpdating=false;c4()};var c3=function(){c0("init");if(c5()){c0("in first update we just start first timer and skip");c4();return}if(!c7()){c0("update is not not expired, skip");return}c0("start to update settings");c1()};b7(function(){bS.roistatUpdateSettings=c2;setTimeout(function(){c3()},3000);c0("set interval to update settings");setInterval(function(){c3()},e)})})();(function by(c3,e,c5){var c2={};var c0=function(c7){var c6=encodeURIComponent?encodeURIComponent:encodeURI;return c6(c7)};var c1=function(dd,c7){s("Reach goal start");if(!dd){dd={}}var da={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:b9(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var c9 in da){if(!Object.prototype.hasOwnProperty.call(da,c9)){continue}if(!Object.prototype.hasOwnProperty.call(dd,c9)){continue}if(!dd[c9]){continue}if(c9==="fields"||c9==="client_fields"||c9==="items"||c9==="placeholders_data"){dd[c9]=JSON.stringify(dd[c9])}da[c9]=c0(dd[c9])}var dc=aP();var db=aU()+"//"+u+"/api/site/"+aa+"/"+dc+"/reach-goal?v=2";for(var c8 in da){if(!Object.prototype.hasOwnProperty.call(da,c8)){continue}db=db+"&"+c8+"="+da[c8]}if(c7!==c5){var c6=Math.random().toString();c2[c6]=c7;db+="&callback_key="+c6}aJ(db);s("Reach goal completed")};var c4=c3.roistatGoal={reach:function(c7,c6){c1(c7,c6)
},callAfterReachCallback:function(c6){if(Object.prototype.hasOwnProperty.call(c2,c6)){c2[c6]();delete c2[c6]}}}})(bS,D,bn);(function cN(c1,e,c2){var c0=function(c7){if(c7 instanceof Array||c7===null||typeof c7!=="object"){s("Invalid event data");return""}var c4=[];for(var c6 in c7){if(Object.prototype.hasOwnProperty.call(c7,c6)){var c5=c7[c6];if(typeof c5==="string"||typeof c5==="number"){c4.push("data["+encodeURIComponent(c6)+"]="+encodeURIComponent(c5))}else{s("Event data property ignored: "+c6)}}}return c4.length>0?"&"+c4.join("&"):""};var c3=function(c6,c7){s("Send event start");var c4=n();var c5=J()+"/event/register?visit="+c4+"&event="+c6+c0(c7);aJ(c5);s("Send event completed")};c1.roistat.event={send:function(c4,c5){c3(c4,c5)}}})(bS,D,bn);(function bQ(c9,db,c2){if(ay()){s("VisitApprove: Shut down because only online chat need to be inited");return}var dc=c9.roistatIsInitVisit===true?20000:10000;var c1=(new Date()).getTime();var c0=function(dg){return"approve_visit_"+dg};var c8=function(dg){bI.set(c0(dg),1)};var dd=function(dg){return bI.get(c0(dg))>0};var e,c4,df=[];if(db.addEventListener){e=function(dh,dg,di){return dh.addEventListener(dg,di,false)};c4=function(dh,dg,di){return dh.removeEventListener(dg,di,false)}}else{e=function(dh,dg,di){return dh.attachEvent("on"+dg,di)};c4=function(dh,dg,di){return dh.detachEvent("on"+dg,di)}}var c7=function(dj){if(df.length>30){return}dj=dj||c9.event;if(!dj||!dj.screenX){return}var di=(new Date()).getTime();var dl,dk=null;if(df.length>0){dk=df[df.length-1]}if(dk){dl=di-dk.time}else{dl=di-c1}if(dl<300){return}dl=dl-300;var dn=0;var dg=dj.screenX;var dm=dj.screenY;if(dk){dn=parseInt(Math.sqrt(Math.pow(dk.y-dm,2)+Math.pow(dk.x-dg,2)))}var dh={time:di,pauseBeforeMove:dl,x:dg,y:dm,distance:dn};df.push(dh)};var c6=function(){var dg=[];q(df,function(dh){var di=[dh.pauseBeforeMove,dh.distance];dg.push(di.join(":"))});if(dg.length===0){dg.push("0:0")}return dg.join("|")};var c3=function(){for(var dg in c9){if(cz(dg,"yaCounter")){return true}}return false};var da=function(){c4(db,"mousemove",c7);var dg=n();s("VisitApprove: start for visit "+dg);if(dd(dg)){s("VisitApprove: visit already approved, skip");return}c8(dg);aq();var dh=J()+"/approve?v="+P+"&visit="+dg;if(de()){dh+="&hash="+aj()}if(c5()){dh+="&page_params="+encodeURIComponent(JSON.stringify(c9.roistat.page.params));f()}dh+="&mv="+c6();dh+="&pl="+(c9.navigator?c9.navigator.platform:"");dh+="&ym="+(c3()?"1":"0");aJ(dh)};var de=function(){var dk=bM.cookies,dj=l();var dm=aZ();for(var dh=0;dh<dm.length;dh++){var dl=dm[dh];var dn=Object.prototype.hasOwnProperty.call(dk,dl)?dk[dl]:c2;var dg=Object.prototype.hasOwnProperty.call(dj,dl)?dj[dl]:c2;var di=typeof dg==="string"&&dg.length>0;if(di&&dn!==dg){return true}}return false};var c5=function(){var dl=bM.pageParams,di=c9.roistat.page.params;for(var dh=0;dh<ADDITIONAL_PAGE_PARAM_LIST.length;dh++){var dg=ADDITIONAL_PAGE_PARAM_LIST[dh];var dj=Object.prototype.hasOwnProperty.call(dl,dg)?dl[dg]:null;var dk=Object.prototype.hasOwnProperty.call(di,dg)?di[dg]:null;if(dk!==dj){return true}}return false};setTimeout(function(){da()},dc);e(db,"mousemove",c7)})(bS,D,bn);(function ao(c4,c5,c0){var c2=function(){return S("roistat_ab_demo")==="1"};var c6=function(c9){return new RegExp(c9.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var c3=function(de){var c9=c4.location.href,dc=de.filter,di=de.filterValue;var df;switch(dc){case"except":case"pages":var da,dh,dg=false;dh=c9?aB(c9):"";df=di?di.split("\n"):[];if(dh&&df.length!==0){for(var db=0;db<df.length;db++){var dd=df[db].trim();if(dd.length===0){continue}da=c6(dd);if(da.test(dh)){dg=true;break}}}return(dc==="pages")?dg:!dg;break;case"all":default:return true}};var e=function(db){var c9=c5.getElementsByTagName("head")[0],da;da=c5.createElement("style");da.setAttribute("type","text/css");if(da.styleSheet){da.styleSheet.cssText=db.value}else{da.innerText=db.value}c9.appendChild(da)};var c1=function(c9){if(c3(c9)){switch(c9.type){case"css":e(c9);break}}};c4.applyTests=function(){var c9=bP.getObject("abTesting");var db,da;for(db in c9){if(!Object.prototype.hasOwnProperty.call(c9,db)){continue}da=c9[db];c1(da)}};var c7=function(){s("Call: apply demo AB test");var c9=S("roistat_ab_data");var da;if(c9===null){return}else{da=JSON.parse(bW.decode(c9))}if(typeof da!=="object"){s("Error: testValue is not an object.");return}c1(da)};function c8(){if(ay()){s("ABTest: Shut down because only online chat need to be inited");return}var c9=c2();if(!cv&&!c9){applyTests()}if(c9){c7()}}c8()})(bS,D,bn);(function aX(c0,e,c1){if(ay()){s("visitStreamNew: Shut down because only online chat need to be inited");return}if(!cx){return}setTimeout(function(){(function(c8,c7,db,da,c5,c3,c6){c8[c5]={COUNTER_ID:c3,HOST:c6};var c4=c7.location.protocol=="https:"?"https://":"http://";var c2=c7.createElement(db);c2.async=1;c2.src=c4+c6+da;var c9=c7.getElementsByTagName(db)[0];c9.parentNode.insertBefore(c2,c9)})(c0,e,"script","/counter.js","datamap",aP(),cx)
},1000)})(bS,D,bn);(function bO(c1,e,c2){var c3=function(){var c4=c1.roistatMetrikaCounterId;if(c4){bP.set(aL,c4)}};var c0=function(c9){var c4="yaCounter"+c9;var c8=100,c6=0,c7=60000;var c5=function(){c6+=c8;s("YandexMetrika: trying to access counter "+c9);if(c1[c4]===c2){if(c6<c7){setTimeout(c5,c8);c8*=2}return}var da={};da[cm]=n();c1[c4].params(da);s("YandexMetrika: visit id "+da[cm]+" sent to counter "+c9)};setTimeout(c5,c8)};b7(function(){c3();var c6=bP.get(aL);if(!c6){s("YandexMetrika: counter id not found");return}var c5=String(c6).split(",");s("YandexMetrika: counters: "+c5);for(var c4=0;c4<c5.length;c4++){if(c5[c4].trim()===""){continue}c0(c5[c4])}})})(bS,D,bn);(function ak(c9,dd){var dh=function(dk){s("Proxy Forms: "+dk)};var c6=function(){if(c9.roistat.proxyForms.loaded&&c9.roistat.proxyForms.settings.length>0){dh("save loaded settings");de(c9.roistat.proxyForms.settings)}else{dh("settings not loaded, getting from storage");c9.roistat.proxyForms.settings=bP.getObject(ROISTAT_PROXY_FORMS)||[]}};var de=function(dk){bP.setObject(ROISTAT_PROXY_FORMS,dk)};var da=function(){dh("init form listener");c2(c9.roistat.proxyForms.settings);e(c9.roistat.proxyForms.settings)};var dj=function(dk){return dk.hasOwnProperty("hosts")&&dk.hasOwnProperty("is_excluding_hosts")&&bc(dk.hosts)&&dk.hosts.length>0};var c4=function(dl){if(!dj(dl)){return true}var dm=cF(dl.hosts,aT(c9.location.host));var dk=Boolean(dl.is_excluding_hosts);return dk?!dm:dm};var c1=function(dl){var dk=[];q(dl,function(dm){if(c4(dm)){dk.push(dm)}});return dk};var e=function(dk){var dm=[];q(dk,function(dn){if(dn.type==="js-button"){dm.push(dn)}});if(dm.length<1){dh("no button settings");return}var dl;if(dd.addEventListener){dl=function(dn){c5(dm,dn,dn.target,c3)};dd.addEventListener("click",dl,true)}else{if(dd.attachEvent){dl=function(){var dn=c9.event;c5(dm,dn,dn.srcElement,c3,true)};dd.attachEvent("onclick",dl)}else{dh("Listener could not be attached")}}};var c2=function(dl){B("Proxy form debug: start");var dk=[];q(dl,function(dn){if(dn.type==="form"){dk.push(dn)}});if(dk.length<1){dh("no form settings");return}if(dd.addEventListener){var dm=function(dn){c5(dk,dn,dn.target,di)};dd.addEventListener("submit",dm,true)}else{if(dd.attachEvent){setInterval(function(){dk=c1(dk);var dn=dd.getElementsByTagName("form");q(dn,function(dp){if(dp.getAttribute("data-roistat-proxy-form-checked")==="true"){return}dp.setAttribute("data-roistat-proxy-form-checked","true");q(dk,function(dq){if(c0(dp,dq.selector)){dp.attachEvent("onsubmit",function(){c9.event.returnValue=false;B("Proxy form debug: start sending form lead");di(dq,c9.event.srcElement)})}})})},2000)}else{dh("Listener could not be attached")}}};var c5=function(dn,dp,dq,dm,dk){var dr=c1(dn);var dl=null;q(dr,function(ds){if(c0(dq,ds.selector)){dl=ds}});if(dl===null){dh("No matched settings found for listener");return}dm(dp,dl,dq,dk)};var di=function(dp,dm,dn,dl){var dk=dc(dn,dm);if(!df(dk,dm)){B("Proxy form debug: lead fields is not valid");return}dl?dp.returnValue=false:dp.preventDefault();B("Proxy form debug: sending lead");c7(dk,dm,function(){HTMLFormElement.prototype.submit.call(dn)})};var c3=function(dm,dl){var dk=dc(null,dl);if(!df(dk,dl)){return}c7(dk,dl)};var c7=function(dk,dn,dq){var dp={};var dm=c8(dn.crm)&&dn.crm.hasOwnProperty("is_enabled");var dl=dm?dn.crm.is_enabled:true;dp.leadName=dn.hasOwnProperty("lead_name")?dn.lead_name:"    "+dn.title;dp.formTitle=dn.title;dp.name=dk.name;dp.phone=dk.phone;dp.email=dk.email;dp.text=dk.comment;dp.fields=dk.fields;dp.placeholders_data=dk.placeholdersData;dp.is_need_callback=dn.is_need_callback>0?1:0;dp.is_skip_sending=!dl;c9.roistatGoal.reach(dp,dq)};var c8=function(dk){return(typeof dk==="number"&&!isNaN(dk))||(typeof dk==="string"&&dk!=="")||(typeof dk==="object"&&dk!==null)||(typeof dk==="boolean"&&dk)||bc(dk)};var df=function(dk,dm){var dl=[],dp=["name","email","phone","comment"];q(dp,function(dq){if(dm.hasOwnProperty(dq)&&dm[dq].required>0){dl.push(dq)}});if(bc(dm.fields)){q(dm.fields,function(dq){if(dq.required>0){dl.push(dq)}})}var dn=true;q(dl,function(dq){if(!dk.hasOwnProperty(dq)||!c8(dk[dq])){dn=false}});return dn};var dc=function(dm,dl){var dk={};dk.name=dl.name?db(dm,dl.name.value,dl.name.type):"";dk.phone=dl.phone?db(dm,dl.phone.value,dl.phone.type):"";dk.email=dl.email?db(dm,dl.email.value,dl.email.type):"";dk.comment=dl.comment?db(dm,dl.comment.value,dl.comment.type):"";dk.fields={};dk.placeholdersData={orderPage:b5};if(bc(dl.fields)){q(dl.fields,function(dn){dk.fields[dn.name]=db(dm,dn.value,dn.type)})}return dk};var db=function(dl,dp,dk){switch(dk){case"plain":return dp||"";case"input":var dn=dl.querySelector('input[name="'+dp+'"]');return dn?dn.value:"";case"js":try{return(new Function(dp))()}catch(dm){return""}}};var dg=function(){dh("init");if(ay()){dh("Shut down because only online chat need to be inited");return}if(!c9.roistat.proxyForms.enabled){dh("disabled");return}c6();da()};var c0=function(dn,dl){if(typeof Element!=="undefined"&&Element.prototype.matches){var dk=dn.matches(dl);
if(!dk){return dn.closest(dl)?dn.closest(dl).matches(dl):false}return dk}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var dp=dn.matchesSelector(dl);if(!dp){return dn.closest(dl)?dn.closest(dl).matches(dl):false}return dp}else{if(dd.querySelectorAll){var dq=dd.querySelectorAll(dl);for(var dm=0;dm<dq.length;dm++){if(dq[dm]===dn){return true}}return false}}}return false};b7(dg);c9.roistatSaveProxyFormSettings=de})(bS,D);(function I(){if(bS.onRoistatAllModulesLoaded!==bn&&typeof bS.onRoistatAllModulesLoaded==="function"){s("onRoistatAllModulesLoaded: call");bS.onRoistatAllModulesLoaded()}})();(function aQ(c6,c9,c3){var e=function(){return bP.get(af)*1>0};var c8=function(df){s("Request listener: "+df)};var de=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var c7=/^[^\s]+[@][^\s]+$/g;var c2=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var c1=function c1(){c8("listen");if(c6.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function dh(dk){var dj=this;da(dj.responseURL,dk,function(){dj.oldSend(dk)})}XMLHttpRequest.prototype.send=dh}if(c6.ActiveXObject){var dg=di;function di(dl){var dj=new dg(dl);var dm={};if(dl.toLowerCase()==="msxml2.xmlhttp"){dm={_ax:dj,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var dk="";dm._onReadyStateChange=function(){var dn=dm;return function(){dn.readyState=dn._ax.readyState;if(dn.readyState===4){dn.responseText=dn._ax.responseText;dn.responseXml=dn._ax.responseXml;dn.status=dn._ax.status;dn.statusText=dn._ax.statusText}if(dn.onReadyStateChange){dn.onReadyStateChange()}}}();dm.open=function(ds,dq,dr,dn,dp){dk=dq;dr=(dr!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(ds,dq,dr,dn,dp)};dm.send=function(dn){var dp=this;da(dk,dn,function(){this._ax.send(dn)})}}else{dm=dj}return dm}c6.ActiveXObject=di}if(c6.fetch){var df=fetch;fetch=function(dj,dk){da(dj.url,dk||{});return df(dj,dk||{})}}c6.addEventListener("submit",function(dm){var dp=dm.target.elements;var dn={};for(var dl=0;dl<dp.length;dl++){var dk=dp[dl];var dj=dk.getAttribute("name");dn[dj]=dk.value}da("",dn)})};function c4(df){var di={};if(df.length===0){return di}var dh=df.split("?");if(dh.length<2){return di}var dg=dh[1];di=c0(dg);return di}function c0(dg){var dh=dg.split("&"),dj={};for(var df=0;df<dh.length;df++){var di=dh[df].split("=");if(di.length<2){continue}dj[di[0]]=di[1]}return dj}function dc(dx){c8("data: "+JSON.stringify(dx));var dq={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var dm={email:"",phone:"",name:""};for(var df in dq){var dt=dq[df];for(var ds in dt){if(dt.hasOwnProperty(ds)){if(dx.hasOwnProperty(dt[ds])){dm[df]=dx[dt[ds]];break}}}}c8("new data: "+JSON.stringify(dm));var dh=dm.phone.length===0;var dl=dm.email.length===0;if(!dh&&!dl){return dm}var dg=new RegExp(c7);var dk=new RegExp(de);var dn=Object.keys(dx);for(var du=0;du<dn.length;du++){var dr=decodeURIComponent(String(dx[dn[du]]));if(dl){var di=dr.match(dg);if(di&&di.length>0){var dp=dm.email;dm.email=di[0];c8("parsing email, before: "+dp+", after: "+dm.email)}}if(dh){var dw=dr.replace(/[\s-.()+*_:;'"`]/g,"");var dv=dw.match(dk);if(dv&&dv.length>0){var dj=dm.phone;dm.phone=dr;c8("parsing phone, before: "+dj+", after: "+dm.phone)}}}return dm}var c5=function(df){var dg=aT(df);return !al(c2,dg)};function da(dh,dg,df){if(dh.length>0&&!c5(dh)){return}var dj=c4(dh);var dl=dg;if(typeof dl==="string"){dl=c0(dl)}c8("data before parsing "+JSON.stringify({get:dj,post:dl}));var dk=dc(dj);var di=dc(dl);c8("data after parsing "+JSON.stringify({get:dk,post:di}));db(dk,di,df)}function db(df,dh,dl){var dk=df.email.length>0?df.email:dh.email;var dg=df.phone.length>0?df.phone:dh.phone;var dj=df.name.length>0?df.name:dh.name;if(dk.length==0&&dg.length==0){dl();return}setTimeout(function(){dl()},100);var di={leadName:"   ",name:dj,phone:dg,email:dk,is_skip_sending:1};c8("phone or email is not empty, reaching goal "+JSON.stringify(di));roistatGoal.reach(di)}(function dd(){if(!e()){c8("disabled, skip");return}c1()})()})(bS,D,bn)})(window,document,undefined);